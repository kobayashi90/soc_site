(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{3337:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/album/add",function(){return c(7287)}])},7287:function(g,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return y},default:function(){return z}});var h=a(932),i=a(4941),j=a(2378),d=a(4051),k=a.n(d),l=a(5893),m=a(1608),n=a(1555),o=a(2878),p=a(4716),q=a(7294),c=a(7283),r=a(7887),s=a(319),t=a(782),u=a(3907),v=a(8046),w=a(2628),x=a(599);function e(){var a=(0,j.Z)(["\n      query {\n        categories {\n          name\n        }\n        classes {\n          name\n        }     \n      }\n    "]);return e=function(){return a},a}function f(){var a=(0,j.Z)(["\n    mutation createAlbum(\n      $title: String,\n      $subTitle: String,\n      $cover: Upload,\n      $releaseDate: String,\n      $label: String,\n      $description: String,\n      $downloads: [DownloadInput],\n      $artists: [String],\n      $classes: [String],\n      $categories: [String],\n      $platforms: [ID],\n      $games: [String],\n      $animations: [ID],\n      $discs: [DiscInput],\n      $related: [ID],\n      $stores: [StoreInput],\n      $vgmdb: String,\n      $status: String!\n    ){\n      createAlbum(\n        title: $title,\n        subTitle: $subTitle,\n        cover: $cover,\n        releaseDate: $releaseDate,\n        label: $label,\n        description: $description,\n        downloads: $downloads,\n        artists: $artists,\n        classes: $classes,\n        categories: $categories,\n        platforms: $platforms,\n        games: $games,\n        animations: $animations\n        discs: $discs,\n        related: $related,\n        stores: $stores,\n        vgmdb: $vgmdb,\n        status: $status\n      )\n      {\n        id\n      }\n    }\n  "]);return f=function(){return a},a}var y=!0;function z(){return(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(n.Z,{xs:2,children:(0,l.jsx)(v.W_,{title:"Add"})}),(0,l.jsxs)(n.Z,{xs:10,children:[(0,l.jsx)(C,{}),(0,l.jsx)(v.sH,{})]})]})}var A=(0,c.Ps)(e()),B=(0,c.Ps)(f());function C(y){var a=(0,q.useState)([]),b=a[0],z=a[1],c=(0,r.a)(A).data,d=void 0===c?{}:c,e=d.classes,f=d.categories,g=(0,i.Z)((0,s.D)(B,{refetchQueries:"searchAlbum"}),2),C=g[0],j=g[1].loading;function D(){return(D=(0,h.Z)(k().mark(function a(b){var c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.persist(),b.preventDefault(),C({variables:c=(0,x.ar)(b)}).then(function(a){t.Am.success('Added "'.concat(c.title,'" succesfully!')),b.target.reset()}).catch(function(a){console.log(a),t.Am.error(a.message,{autoclose:!1})});case 4:case"end":return a.stop()}},a)}))).apply(this,arguments)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{id:"addAlbum",className:"mb-2 mt-3",children:"Add Album"}),(0,l.jsxs)(o.Z,{className:"site-form blackblock",onSubmit:function(a){return D.apply(this,arguments)},children:[(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(n.Z,{md:3,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"title",children:"Title:"}),(0,l.jsx)(p.Z,{required:!0,type:"text",name:"title"})]})}),(0,l.jsx)(n.Z,{md:3,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"subTitle",children:"Sub Title:"}),(0,l.jsx)(p.Z,{as:"textarea",name:"subTitle"})]})}),(0,l.jsx)(n.Z,{md:3,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"releaseDate",children:"Release Date:"}),(0,l.jsx)(p.Z,{required:!0,type:"date",name:"releaseDate"})]})}),(0,l.jsx)(n.Z,{md:3,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"label",children:"Label:"}),(0,l.jsx)(p.Z,{type:"text",name:"label"})]})})]}),(0,l.jsx)(m.Z,{className:"mb-3",children:(0,l.jsx)(n.Z,{children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"status",children:"Status:"}),(0,l.jsx)(u.d7,{isSingle:!0,required:!0,name:"status",defaultValue:{value:"show",label:"Show"},options:["Show","Hidden","Coming"].map(function(a){return{label:a,value:a.toLowerCase()}})})]})})}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(n.Z,{md:12,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"title",children:"Description:"}),(0,l.jsx)(p.Z,{as:"textarea",name:"description"})]})})}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsxs)(m.Z,{className:"mb-3",children:[(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"artists",children:"Artists:"}),(0,l.jsx)(p.Z,{name:"artists",as:"textarea"})]})}),(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"classes",children:"Classification:"}),(0,l.jsx)(u.d7,{defaultValue:b.map(function(a){return{value:a,label:a}}),required:!0,name:"classes",options:(void 0===e?[]:e).map(function(a){return{value:a.name,label:a.name}}),onChange:function(a){return z(a.map(function(a){return a.value}))}})]})}),(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"categories",children:"Categories:"}),(0,l.jsx)(u.d7,{required:!0,name:"categories",options:(void 0===f?[]:f).map(function(a){return{value:a.name,label:a.name}})})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(n.Z,{md:6,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"vgmdb",children:"VGMdb:"}),(0,l.jsx)(p.Z,{name:"vgmdb",type:"text"})]})}),(0,l.jsx)(n.Z,{md:6,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"cover",children:"Cover:"}),(0,l.jsx)(p.Z,{required:!0,name:"cover",type:"file",accept:"image/*"})]})})]}),(0,l.jsx)(m.Z,{}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"games",children:"Games:"}),(0,l.jsx)(u.D_,{name:"games"})]})}),(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"platforms",children:"Platforms:"}),(0,l.jsx)(u.J3,{classes:b,name:"platforms"})]})}),(0,l.jsx)(n.Z,{md:4,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"animations",children:"Animations:"}),(0,l.jsx)(u.S7,{name:"animations"})]})})]}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(n.Z,{md:12,children:(0,l.jsxs)(o.Z.Group,{children:[(0,l.jsx)(o.Z.Label,{htmlFor:"related",children:"Related OSTs:"}),(0,l.jsx)(u.Q$,{name:"related"})]})})}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsx)(v.r8,{}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsx)(v.rL,{}),(0,l.jsx)("hr",{className:"style2 style-white"}),(0,l.jsx)(v.ie,{}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(n.Z,{className:"m-auto",children:(0,l.jsx)(w.Z,{loading:j,type:"submit",color:"primary",children:"Add Album"})})})]})]})}}},function(a){a.O(0,[907,46,774,888,179],function(){return a(a.s=3337)}),_N_E=a.O()}])