(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{3337:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/album/add",function(){return c(7287)}])},7287:function(g,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return y},"default":function(){return z}});var d=a(4051),h=a.n(d),i=a(5893),j=a(1608),k=a(1555),l=a(2878),m=a(4716),n=a(7294),c=a(7283),o=a(7887),p=a(319),q=a(782),r=a(3907),s=a(8046),t=a(2628),u=a(599);function v(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function w(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function x(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function e(){var a=x(["\n      query {\n        categories {\n          name\n        }\n        classes {\n          name\n        }     \n      }\n    "]);return e=function(){return a},a}function f(){var a=x(["\n    mutation createAlbum(\n      $title: String,\n      $subTitle: String,\n      $cover: Upload,\n      $releaseDate: String,\n      $label: String,\n      $description: String,\n      $downloads: [DownloadInput],\n      $artists: [String],\n      $classes: [String],\n      $categories: [String],\n      $platforms: [ID],\n      $games: [String],\n      $animations: [ID],\n      $discs: [DiscInput],\n      $related: [ID],\n      $stores: [StoreInput],\n      $vgmdb: String,\n      $status: String!\n    ){\n      createAlbum(\n        title: $title,\n        subTitle: $subTitle,\n        cover: $cover,\n        releaseDate: $releaseDate,\n        label: $label,\n        description: $description,\n        downloads: $downloads,\n        artists: $artists,\n        classes: $classes,\n        categories: $categories,\n        platforms: $platforms,\n        games: $games,\n        animations: $animations\n        discs: $discs,\n        related: $related,\n        stores: $stores,\n        vgmdb: $vgmdb,\n        status: $status\n      )\n      {\n        id\n      }\n    }\n  "]);return f=function(){return a},a}var y=!0;function z(){return(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(k.Z,{xs:2,children:(0,i.jsx)(s.W_,{title:"Add"})}),(0,i.jsxs)(k.Z,{xs:10,children:[(0,i.jsx)(C,{}),(0,i.jsx)(s.sH,{})]})]})}var A=(0,c.Ps)(e()),B=(0,c.Ps)(f());function C(C){var a,c,d=(0,n.useState)(""),f=d[0],D=d[1],g=(0,o.a)(A),b=g.data,e=(a=(0,p.D)(B,{refetchQueries:"searchAlbum"}),c=2,function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,c)||function(a,c){if(a){if("string"==typeof a)return v(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return v(a,c)}}(a,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),E=e[0],x=e[1].loading,y=b?b.classes:[],z=b?b.categories:[];function F(){var a;return(F=(a=h().mark(function a(b){var c;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:b.persist(),b.preventDefault(),E({variables:c=(0,u.ar)(b)}).then(function(a){q.Am.success('Added "'.concat(c.title,'" succesfully!')),b.target.reset()}).catch(function(a){console.log(a),q.Am.error(a.message,{autoclose:!1})});case 4:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){w(g,e,f,d,h,"next",a)}function h(a){w(g,e,f,d,h,"throw",a)}d(void 0)})})).apply(this,arguments)}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{id:"addAlbum",className:"mb-2 mt-3",children:"Add Album"}),(0,i.jsxs)(l.Z,{className:"site-form blackblock",onSubmit:function(a){return F.apply(this,arguments)},children:[(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(k.Z,{md:3,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"title",children:"Title:"}),(0,i.jsx)(m.Z,{required:!0,type:"text",name:"title"})]})}),(0,i.jsx)(k.Z,{md:3,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"subTitle",children:"Sub Title:"}),(0,i.jsx)(m.Z,{as:"textarea",name:"subTitle"})]})}),(0,i.jsx)(k.Z,{md:3,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"releaseDate",children:"Release Date:"}),(0,i.jsx)(m.Z,{required:!0,type:"date",name:"releaseDate"})]})}),(0,i.jsx)(k.Z,{md:3,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"label",children:"Label:"}),(0,i.jsx)(m.Z,{type:"text",name:"label"})]})})]}),(0,i.jsx)(j.Z,{className:"mb-3",children:(0,i.jsx)(k.Z,{children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"status",children:"Status:"}),(0,i.jsx)(r.d7,{isSingle:!0,required:!0,name:"status",defaultValue:{value:"show",label:"Show"},options:["Show","Hidden","Coming"].map(function(a){return{label:a,value:a.toLowerCase()}})})]})})}),(0,i.jsx)(j.Z,{children:(0,i.jsx)(k.Z,{md:12,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"title",children:"Description:"}),(0,i.jsx)(m.Z,{as:"textarea",name:"description"})]})})}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsxs)(j.Z,{className:"mb-3",children:[(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"artists",children:"Artists:"}),(0,i.jsx)(m.Z,{name:"artists",as:"textarea"})]})}),(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"classes",children:"Classification:"}),(0,i.jsx)(r.d7,{required:!0,name:"classes",options:y.map(function(a){return{value:a.name,label:a.name}}),onChange:function(a){a&&1===a.length?D(a[0].label):D("")}})]})}),(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"categories",children:"Categories:"}),(0,i.jsx)(r.d7,{required:!0,name:"categories",options:z.map(function(a){return{value:a.name,label:a.name}})})]})})]}),(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(k.Z,{md:6,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"vgmdb",children:"VGMdb:"}),(0,i.jsx)(m.Z,{name:"vgmdb",type:"text"})]})}),(0,i.jsx)(k.Z,{md:6,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"cover",children:"Cover:"}),(0,i.jsx)(m.Z,{required:!0,name:"cover",type:"file",accept:"image/*"})]})})]}),(0,i.jsx)(j.Z,{}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsxs)(j.Z,{children:[(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"games",children:"Games:"}),(0,i.jsx)(r.D_,{name:"games"})]})}),(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"platforms",children:"Platforms:"}),(0,i.jsx)(r.J3,{type:f,name:"platforms"})]})}),(0,i.jsx)(k.Z,{md:4,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"animations",children:"Animations:"}),(0,i.jsx)(r.S7,{name:"animations"})]})})]}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsx)(j.Z,{children:(0,i.jsx)(k.Z,{md:12,children:(0,i.jsxs)(l.Z.Group,{children:[(0,i.jsx)(l.Z.Label,{htmlFor:"related",children:"Related OSTs:"}),(0,i.jsx)(r.Q$,{name:"related"})]})})}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsx)(s.r8,{}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsx)(s.rL,{}),(0,i.jsx)("hr",{className:"style2 style-white"}),(0,i.jsx)(s.ie,{}),(0,i.jsx)(j.Z,{children:(0,i.jsx)(k.Z,{className:"m-auto",children:(0,i.jsx)(t.Z,{loading:x,type:"submit",color:"primary",children:"Add Album"})})})]})]})}}},function(a){a.O(0,[907,46,774,888,179],function(){return a(a.s=3337)}),_N_E=a.O()}])