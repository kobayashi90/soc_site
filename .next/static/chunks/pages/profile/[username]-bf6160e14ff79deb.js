(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{6326:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]",function(){return c(9846)}])},9846:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return E},default:function(){return F}});var d=c(4924),e=c(828),f=c(7297),g=c(9815),h=c(5893),i=c(7294),j=c(7283),k=c(319),l=c(682),m=c(1608),n=c(1555),o=c(5005),p=c(7931),q=c(2878),r=c(9490),s=c(5675),t=c.n(s),u=c(9578),v=c(6658),w=c(5043),x=c(7422),y=c.n(x),z=c(782),A=c(1292),B=c(9008),C=c.n(B);function D(){var a=(0,f.Z)(["\n  mutation updateUser($username: String, $password: String, $email: String, $pfp: Upload){\n    updateUser(username: $username, password: $password, email: $email, pfp: $pfp)\n  }\n"]);return D=function(){return a},a}var E=!0;function F(a){var b=(0,A.Z)().user,c=a.userProfile,f=c.comments,j=c.favorites,k=c.imgUrl,p=c.placeholder,q=c.username,s=(0,g.Z)(j),w=(0,i.useState)(!1),x=w[0],y=w[1],z=r.ou.now().diff(r.ou.fromMillis(c.createdAt),["years","months"]);return Object.entries(z.values).forEach(function(a){var b=(0,e.Z)(a,2),c=b[0],f=b[1];z=z.set((0,d.Z)({},c,Math.floor(f)))}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(C(),{children:[(0,h.jsx)("meta",{property:"og:url",content:"/profile/".concat(q)},"url"),(0,h.jsx)("meta",{property:"og:description",content:"".concat(q,"'s awesome cloud")},"desc"),(0,h.jsx)("meta",{property:"og:image",content:k},"image")]}),(null==b?void 0:b.username)===q&&(0,h.jsx)(H,{setProfile:y,showProfile:x}),(0,h.jsxs)(l.Z,{children:[(0,h.jsxs)(m.Z,{className:"mt-3",children:[(0,h.jsx)(n.Z,{xs:"auto",className:"blackblock",children:(0,h.jsx)("div",{className:"p-1 position-relative",style:{height:"200px",width:"200px"},children:(0,h.jsx)(t(),{style:{borderRadius:"25px"},layout:"fill",alt:"placeholder",src:k,blurDataURL:p})})}),(0,h.jsxs)(n.Z,{className:"blackblock ms-3 my-0 d-flex justify-content-center flex-column",children:[(0,h.jsx)(m.Z,{children:(0,h.jsx)(n.Z,{md:12,children:(0,h.jsx)("h1",{className:"text-center album-title",children:q})})}),(0,h.jsx)(m.Z,{className:"my-1",children:(0,h.jsxs)(n.Z,{className:"d-flex justify-content-center",children:[(0,h.jsx)("span",{className:"fw-bold me-1",children:"Floating for:"}),(0,h.jsx)("span",{children:z.toHuman()})]})}),(null==b?void 0:b.username)===c.username&&(0,h.jsx)(m.Z,{className:"mt-3",children:(0,h.jsx)(n.Z,{className:"d-flex justify-content-center",children:(0,h.jsx)(o.Z,{onClick:function(){return y(!0)},className:"rounded-3",variant:"outline-light",children:"Edit Account"})})})]})]}),(0,h.jsx)(v.Tv,{comments:f}),(0,h.jsx)("hr",{className:"style2 style-white"}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(n.Z,{children:(0,h.jsx)("h1",{style:{fontSize:"45px"},className:"text-center homeTitle py-2",id:"last-releases",children:"Favorites"})})}),(0,h.jsx)(m.Z,{className:"justify-content-center",children:(0,h.jsx)(u.X,{colProps:{md:3,xs:6},items:s.sort(function(a,b){return a.title>b.title})})})]})]})}var G=(0,j.Ps)(D());function H(a){var b=a.showProfile,c=a.setProfile,d=(0,A.Z)(),f=d.user,g=d.refetch,i=(0,e.Z)((0,k.D)(G),2),j=i[0],l=i[1],o=l.loading,r=function(a){a.preventDefault();var b=y()(a.target,{hash:!0});b.pfp=a.target.elements.pfp.files[0],j({variables:b}).then(function(){z.Am.success("User updated succesfully!"),g(),c(!1)}).catch(function(a){z.Am.error("Failed to update user")})};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(p.Z,{show:b,centered:!0,onHide:function(){return c(!1)},children:(0,h.jsx)(p.Z.Body,{className:"m-3",children:(0,h.jsxs)(q.Z,{onSubmit:r,children:[(0,h.jsxs)(m.Z,{children:[(0,h.jsxs)(q.Z.Group,{as:n.Z,children:[(0,h.jsx)(q.Z.Label,{htmlFor:"username",style:{color:"black"},children:"Username:"}),(0,h.jsx)(q.Z.Control,{type:"text",name:"username",defaultValue:null==f?void 0:f.username})]}),(0,h.jsxs)(q.Z.Group,{as:n.Z,children:[(0,h.jsx)(q.Z.Label,{htmlFor:"email",style:{color:"black"},children:"Email:"}),(0,h.jsx)(q.Z.Control,{type:"text",name:"email",defaultValue:null==f?void 0:f.email})]})]}),(0,h.jsx)(m.Z,{className:"mt-3",children:(0,h.jsxs)(q.Z.Group,{as:n.Z,children:[(0,h.jsx)(q.Z.Label,{htmlFor:"password",style:{color:"black"},children:"Password (empty to keep it unchanged):"}),(0,h.jsx)(q.Z.Control,{type:"password",name:"password"})]})}),(0,h.jsx)(m.Z,{className:"mt-3",children:(0,h.jsxs)(q.Z.Group,{as:n.Z,children:[(0,h.jsx)(q.Z.Label,{htmlFor:"pfp",style:{color:"black"},children:"Profile pic:"}),(0,h.jsx)(q.Z.Control,{type:"file",name:"pfp"})]})}),(0,h.jsx)(m.Z,{className:"mt-4",children:(0,h.jsx)(n.Z,{md:6,className:"mx-auto",children:(0,h.jsx)(w.l,{loading:o,type:"submit",className:"w-100",color:"primary",children:"Update User"})})})]})})})})}}},function(a){a.O(0,[838,774,888,179],function(){var b;return a(a.s=6326)}),_N_E=a.O()}])