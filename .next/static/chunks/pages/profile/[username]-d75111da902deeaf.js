(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{6326:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]",function(){return c(8389)}])},6112:function(g,b,a){"use strict";a.d(b,{X:function(){return s},Z:function(){return r}});var h=a(5893),i=a(7294),j=a(1555),c=a(4184),k=a.n(c),d=a(5675),l=a.n(d),e=a(1664),m=a.n(e),f=a(2327),n=a.n(f),o=a(599);function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){p(d,a,c[a])})}return d}function r(a){var g=a.id,s=a.title,b=a.type,i=void 0===b?"album":b,j=a.status,c=a.height,t=void 0===c?300:c,d=a.width,u=void 0===d?300:d,q=a.placeholder,r=a.style,e="coming"===j,v=q||o.l7,f=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:n().img,children:(0,h.jsx)(l(),{alt:s,src:(0,o.Jn)(g,i),layout:"responsive",width:u,height:t,placeholder:"blur",blurDataURL:v})}),(0,h.jsx)("div",{className:"text-wrap text-center p-2",children:e?"Coming Soon":s})]})};return(0,h.jsx)("div",{className:k()(n().albumBox,p({},n().coming,e)),style:r,children:e?(0,h.jsx)(f,{}):(0,h.jsx)(m(),{href:"/".concat(i,"/").concat(g),children:(0,h.jsx)("a",{children:(0,h.jsx)(f,{})})})})}function s(a){var c=a.items,d=a.type,e=a.width,f=a.height,g=a.style,b=a.colProps,l=void 0===b?{}:b;return c.map(function(a){return(0,i.createElement)(j.Z,q({},l,{key:a.id,className:k()(n().albumBoxContainer,n()[d],"px-1 mb-2")}),(0,h.jsx)(r,q({},a,{style:g,type:d,width:e,height:f})))})}},9139:function(f,b,a){"use strict";a.d(b,{Z:function(){return F}});var g=a(5893),h=a(1555),i=a(5005),j=a(1608),k=a(343),l=a(2878),m=a(4716),n=a(7294),o=a(7283),p=a(3359),q=a(319),c=a(7422),r=a.n(c),d=a(1664),s=a.n(d),t=a(2446),u=a(9738),e=a(7983),v=a.n(e),w=a(6974);function x(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function y(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function z(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||B(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(b,a){return a||(a=b.slice(0)),Object.freeze(Object.defineProperties(b,{raw:{value:Object.freeze(a)}}))}function B(a,c){if(a){if("string"==typeof a)return x(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return x(a,c)}}function C(){var a=A(["\n    query ($ostId: ID!) {\n      album(id: $ostId){\n        selfComment {\n          text\n          anon\n        }\n      }\n    }\n  "]);return C=function(){return a},a}function D(){var a=A(["\n    mutation ($text: String!, $anon: Boolean!, $ostId: ID!) {\n      updateComment(text: $text, anon: $anon, ostId: $ostId)\n    }\n  "]);return D=function(){return a},a}function E(a){var b=a.side,c=a.onClick;return(0,g.jsx)(h.Z,{xs:"auto",children:(0,g.jsx)(i.Z,{onClick:c,className:"h-100 rounded-3",variant:"outline-light",style:{fontSize:"30px"},children:(0,g.jsx)("span",{className:"fas fa-angle-".concat(b)})})})}function F(c){var l=(0,w.Z)(),d=(0,n.useState)(0),e=d[0],p=d[1],q=(0,n.useRef)(null),f=c.ostId,k=c.comments,b=void 0===k?[]:k,a=b[e],m=(0,t.Z)().user,o=function(){return p(e===b.length-1?0:e+1)};return(0,n.useEffect)(function(){q.current&&clearTimeout(q.current),q.current=setTimeout(o,1e4)},[e]),(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(j.Z,{children:(0,g.jsxs)(h.Z,{className:"blackblock m-2",children:[a&&(0,g.jsxs)(j.Z,{children:[b.length>1&&(0,g.jsx)(E,{side:"left",onClick:function(){return p(0===e?b.length-1:e-1)}}),(0,g.jsxs)(h.Z,{className:"py-3",style:{fontSize:"18px"},children:[a.text,(0,g.jsx)("br",{}),(0,g.jsxs)("div",{className:"mt-2",children:[a.album&&(0,g.jsxs)("span",{children:[" - ",(0,g.jsx)(s(),{href:"/album/".concat(a.album.id),children:(0,g.jsx)("a",{className:v().albumSpan,children:a.album.title})})]}),!a.album&&a.username&&(0,g.jsxs)("span",{children:[" - ",(0,g.jsx)(s(),{href:"/profile/".concat(a.username),children:(0,g.jsx)("a",{className:v().albumSpan,children:a.username})})]})]})]}),b.length>1&&(0,g.jsx)(E,{side:"right",onClick:o})]}),f&&(0,g.jsx)(j.Z,{className:"mt-3 justify-content-center",children:m?(0,g.jsx)(G,{ostId:f}):(0,g.jsx)(h.Z,{xs:"4",children:(0,g.jsx)(i.Z,{className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:l("Comment_Login")})})})]})})})}function G(v){var x=v.ostId,b=(0,w.Z)(),d=(0,n.useState)(!1),A=d[0],J=d[1],B=(0,t.Z)().user,E=(0,o.Ps)(C()),e=z((0,p.t)(E),2),F=e[0],f=e[1].data,G=(0,o.Ps)(D()),s=z((0,q.D)(G),2),K=s[0],H=s[1],I=H.loading;(0,n.useEffect)(function(){return F({variables:{ostId:x}})},[B,F,x]);var c=null==f?void 0:f.album,a=null==c?void 0:c.selfComment;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k.Z,{show:A,centered:!0,onHide:function(){return J(!1)},children:(0,g.jsx)(k.Z.Body,{className:"m-3",children:(0,g.jsxs)(l.Z,{onSubmit:function(b){var a=r()(b.target,{hash:!0});K({variables:a=function(d){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},b=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(b=b.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),b.forEach(function(a){y(d,a,c[a])})}return d}({},a,{anon:"on"===a.anon,ostId:x})}).then(function(){return J(!1)}),b.preventDefault()},style:{color:"black"},children:[(0,g.jsx)(j.Z,{children:(0,g.jsx)(l.Z.Group,{as:h.Z,children:(0,g.jsx)(m.Z,{required:!0,as:"textarea",name:"text",maxLength:300,defaultValue:a?a.text:""})})}),(0,g.jsx)(j.Z,{className:"mt-2",children:(0,g.jsx)(l.Z.Group,{as:h.Z,children:(0,g.jsx)(l.Z.Check,{type:"checkbox",label:b("Comment_Anon"),name:"anon",defaultChecked:!!a&&a.anon})})}),(0,g.jsx)(j.Z,{className:"mt-2",children:(0,g.jsx)(h.Z,{className:"mx-auto",children:(0,g.jsx)(u.l,{loading:I,type:"submit",color:"primary",text:b("Save comment")})})})]})})}),c&&(0,g.jsx)(h.Z,{xs:3,children:(0,g.jsx)(i.Z,{onClick:function(){return B?J(!0):null},className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:b(a?"Edit comment":"Add comment")})})]})}},8389:function(i,b,a){"use strict";a.r(b),a.d(b,{"__N_SSP":function(){return G},"default":function(){return H}});var j=a(5893),k=a(7294),c=a(7283),l=a(319),m=a(682),n=a(1608),o=a(1555),p=a(5005),q=a(343),r=a(2878),s=a(9490),d=a(5675),t=a.n(d),e=a(387),u=a.n(e),v=a(6112),w=a(9139),x=a(9738),f=a(7422),y=a.n(f),z=a(782),A=a(2446),g=a(9008),B=a.n(g);function C(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function D(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||E(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(a,c){if(a){if("string"==typeof a)return C(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return C(a,c)}}function h(){var a,b,c=(a=["\n  mutation updateUser($username: String, $password: String, $email: String, $pfp: Upload){\n    updateUser(username: $username, password: $password, email: $email, pfp: $pfp)\n  }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return h=function(){return c},c}function F(a){var b=a.username,c=(0,k.useState)("ChitoWarlock"===b)[0];return(0,j.jsx)("div",{className:"h-100 w-100",style:{position:"absolute",pointerEvents:"none"},children:c&&(0,j.jsx)(u(),{floorHeight:2e3,floorWidth:2e3,particleCount:250})})}var G=!0;function H(h){var d,c=(0,A.Z)().user,a=h.userProfile,i=a.comments,l=a.favorites,e=a.imgUrl,q=a.placeholder,b=a.username,r=function(a){if(Array.isArray(a))return C(a)}(d=l)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||E(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=(0,k.useState)(!1),u=f[0],x=f[1],g=s.ou.now().diff(s.ou.fromMillis(a.createdAt),["years","months"]);return Object.entries(g.values).forEach(function(e){var a,b,c,d=D(e,2),f=d[0],h=d[1];g=g.set((a={},b=f,c=Math.floor(h),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a))}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(B(),{children:[(0,j.jsx)("meta",{property:"og:url",content:"/profile/".concat(b)},"url"),(0,j.jsx)("meta",{property:"og:description",content:"".concat(b,"'s awesome cloud")},"desc"),(0,j.jsx)("meta",{property:"og:image",content:e},"image")]}),(null==c?void 0:c.username)===b&&(0,j.jsx)(J,{setProfile:x,showProfile:u}),(0,j.jsxs)(m.Z,{children:[(0,j.jsx)(F,{username:b}),(0,j.jsxs)(n.Z,{className:"mt-3",children:[(0,j.jsx)(o.Z,{xs:"auto",className:"blackblock",children:(0,j.jsxs)("div",{className:"p-1 position-relative",style:{height:"200px",width:"200px"},children:[(0,j.jsx)(t(),{style:{borderRadius:"25px"},layout:"fill",alt:"placeholder",src:e,blurDataURL:q}),"ChitoWarlock"===b&&(0,j.jsx)("img",{className:"position-absolute",src:"/img/assets/hat.png",style:{height:"150px",width:"150px",top:"-70px",left:"25px",transform:"rotate(10deg)"}})]})}),(0,j.jsxs)(o.Z,{className:"blackblock ms-3 my-0 d-flex justify-content-center flex-column",children:[(0,j.jsx)(n.Z,{children:(0,j.jsx)(o.Z,{md:12,children:(0,j.jsx)("h1",{className:"text-center ost-title",children:b})})}),(0,j.jsx)(n.Z,{className:"my-1",children:(0,j.jsxs)(o.Z,{className:"d-flex justify-content-center",children:[(0,j.jsx)("span",{className:"fw-bold me-1",children:"Floating for:"}),(0,j.jsx)("span",{children:g.toHuman()})]})}),(null==c?void 0:c.username)===a.username&&(0,j.jsx)(n.Z,{className:"mt-3",children:(0,j.jsx)(o.Z,{className:"d-flex justify-content-center",children:(0,j.jsx)(p.Z,{onClick:function(){return x(!0)},className:"rounded-3",variant:"outline-light",children:"Edit Account"})})})]})]}),(0,j.jsx)(w.Z,{comments:i}),(0,j.jsx)("hr",{className:"style2 style-white"}),(0,j.jsx)(n.Z,{children:(0,j.jsx)(o.Z,{children:(0,j.jsx)("h1",{style:{fontSize:"45px"},className:"text-center homeTitle py-2",id:"last-releases",children:"Favorites"})})}),(0,j.jsx)(n.Z,{className:"justify-content-center",children:(0,j.jsx)(v.X,{colProps:{md:3,xs:6},items:r.sort(function(a,b){return a.title>b.title})})})]})]})}var I=(0,c.Ps)(h());function J(b){var e=b.showProfile,h=b.setProfile,c=(0,A.Z)(),a=c.user,i=c.refetch,d=D((0,l.D)(I),2),k=d[0],f=d[1],g=f.loading;return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(q.Z,{show:e,centered:!0,onHide:function(){return h(!1)},children:(0,j.jsx)(q.Z.Body,{className:"m-3",children:(0,j.jsxs)(r.Z,{onSubmit:function(a){a.preventDefault();var b=y()(a.target,{hash:!0});b.pfp=a.target.elements.pfp.files[0],k({variables:b}).then(function(){z.Am.success("User updated succesfully!"),i(),h(!1)}).catch(function(a){z.Am.error("Failed to update user")})},children:[(0,j.jsxs)(n.Z,{children:[(0,j.jsxs)(r.Z.Group,{as:o.Z,children:[(0,j.jsx)(r.Z.Label,{htmlFor:"username",style:{color:"black"},children:"Username:"}),(0,j.jsx)(r.Z.Control,{type:"text",name:"username",defaultValue:null==a?void 0:a.username})]}),(0,j.jsxs)(r.Z.Group,{as:o.Z,children:[(0,j.jsx)(r.Z.Label,{htmlFor:"email",style:{color:"black"},children:"Email:"}),(0,j.jsx)(r.Z.Control,{type:"text",name:"email",defaultValue:null==a?void 0:a.email})]})]}),(0,j.jsx)(n.Z,{className:"mt-3",children:(0,j.jsxs)(r.Z.Group,{as:o.Z,children:[(0,j.jsx)(r.Z.Label,{htmlFor:"password",style:{color:"black"},children:"Password (empty to keep it unchanged):"}),(0,j.jsx)(r.Z.Control,{type:"password",name:"password"})]})}),(0,j.jsx)(n.Z,{className:"mt-3",children:(0,j.jsxs)(r.Z.Group,{as:o.Z,children:[(0,j.jsx)(r.Z.Label,{htmlFor:"pfp",style:{color:"black"},children:"Profile pic:"}),(0,j.jsx)(r.Z.Control,{type:"file",name:"pfp"})]})}),(0,j.jsx)(n.Z,{className:"mt-4",children:(0,j.jsx)(o.Z,{md:6,className:"mx-auto",children:(0,j.jsx)(x.l,{loading:g,type:"submit",className:"w-100",color:"primary",text:"Update User"})})})]})})})})}},2327:function(a){a.exports={albumBoxContainer:"AlbumBoxes_albumBoxContainer___5OUW",anim:"AlbumBoxes_anim__Xn34t",albumBox:"AlbumBoxes_albumBox__qjbi0",img:"AlbumBoxes_img__gFWAG",coming:"AlbumBoxes_coming__jiMAE"}},7983:function(a){a.exports={albumSpan:"Profile_albumSpan__O9GbQ"}}},function(a){a.O(0,[387,774,888,179],function(){return a(a.s=6326)}),_N_E=a.O()}])