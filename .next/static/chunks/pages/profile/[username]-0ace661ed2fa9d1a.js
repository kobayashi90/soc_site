(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{6326:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[username]",function(){return l(8389)}])},8389:function(e,s,l){"use strict";l.r(s),l.d(s,{__N_SSP:function(){return F},default:function(){return P}});var t=l(7297),n=l(5893),r=l(7294),a=l(7283),c=l(319),i=l(682),o=l(4051),d=l(1555),m=l(5005),u=l(343),h=l(2878),x=l(9490),p=l(9755),j=l.n(p),f=l(6112),Z=l(9139),y=l(9738),N=l(7422),b=l.n(N),w=l(782),g=l(2446),_=l(9008),k=l.n(_);function v(){let e=(0,t.Z)(["\n  mutation updateUser($username: String, $password: String, $email: String, $pfp: Upload){\n    updateUser(username: $username, password: $password, email: $email, pfp: $pfp)\n  }\n"]);return v=function(){return e},e}var F=!0;function P(e){let{user:s}=(0,g.Z)(),{userProfile:l}=e,{comments:t,favorites:a,imgUrl:c,placeholder:u,username:h}=l,p=[...a],[y,N]=(0,r.useState)(!1),b=x.ou.now().diff(x.ou.fromMillis(l.createdAt),["years","months"]);return Object.entries(b.values).forEach(e=>{let[s,l]=e;b=b.set({[s]:Math.floor(l)})}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(k(),{children:[(0,n.jsx)("meta",{property:"og:url",content:"/profile/".concat(h)},"url"),(0,n.jsx)("meta",{property:"og:description",content:"".concat(h,"'s awesome cloud")},"desc"),(0,n.jsx)("meta",{property:"og:image",content:c},"image")]}),(null==s?void 0:s.username)===h&&(0,n.jsx)(S,{setProfile:N,showProfile:y}),(0,n.jsxs)(i.Z,{children:[(0,n.jsxs)(o.Z,{className:"mt-3",children:[(0,n.jsx)(d.Z,{xs:"auto",className:"blackblock",children:(0,n.jsx)("div",{className:"p-1 position-relative",style:{height:"200px",width:"200px"},children:(0,n.jsx)(j(),{style:{borderRadius:"25px"},layout:"fill",alt:"placeholder",src:c,blurDataURL:u})})}),(0,n.jsxs)(d.Z,{className:"blackblock ms-3 my-0 d-flex justify-content-center flex-column",children:[(0,n.jsx)(o.Z,{children:(0,n.jsx)(d.Z,{md:12,children:(0,n.jsx)("h1",{className:"text-center album-title",children:h})})}),(0,n.jsx)(o.Z,{className:"my-1",children:(0,n.jsxs)(d.Z,{className:"d-flex justify-content-center",children:[(0,n.jsx)("span",{className:"fw-bold me-1",children:"Floating for:"}),(0,n.jsx)("span",{children:b.toHuman()})]})}),(null==s?void 0:s.username)===l.username&&(0,n.jsx)(o.Z,{className:"mt-3",children:(0,n.jsx)(d.Z,{className:"d-flex justify-content-center",children:(0,n.jsx)(m.Z,{onClick:()=>N(!0),className:"rounded-3",variant:"outline-light",children:"Edit Account"})})})]})]}),(0,n.jsx)(Z.Tv,{comments:t}),(0,n.jsx)("hr",{className:"style2 style-white"}),(0,n.jsx)(o.Z,{children:(0,n.jsx)(d.Z,{children:(0,n.jsx)("h1",{style:{fontSize:"45px"},className:"text-center homeTitle py-2",id:"last-releases",children:"Favorites"})})}),(0,n.jsx)(o.Z,{className:"justify-content-center",children:(0,n.jsx)(f.X,{colProps:{md:3,xs:6},items:p.sort((e,s)=>e.title>s.title)})})]})]})}let E=(0,a.Ps)(v());function S(e){let{showProfile:s,setProfile:l}=e,{user:t,refetch:r}=(0,g.Z)(),[a,{loading:i}]=(0,c.D)(E),m=e=>{e.preventDefault();let s=b()(e.target,{hash:!0});s.pfp=e.target.elements.pfp.files[0],a({variables:s}).then(()=>{w.Am.success("User updated succesfully!"),r(),l(!1)}).catch(e=>{w.Am.error("Failed to update user")})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{show:s,centered:!0,onHide:()=>l(!1),children:(0,n.jsx)(u.Z.Body,{className:"m-3",children:(0,n.jsxs)(h.Z,{onSubmit:m,children:[(0,n.jsxs)(o.Z,{children:[(0,n.jsxs)(h.Z.Group,{as:d.Z,children:[(0,n.jsx)(h.Z.Label,{htmlFor:"username",style:{color:"black"},children:"Username:"}),(0,n.jsx)(h.Z.Control,{type:"text",name:"username",value:null==t?void 0:t.username,readOnly:!0})]}),(0,n.jsxs)(h.Z.Group,{as:d.Z,children:[(0,n.jsx)(h.Z.Label,{htmlFor:"email",style:{color:"black"},children:"Email:"}),(0,n.jsx)(h.Z.Control,{type:"text",name:"email",defaultValue:null==t?void 0:t.email})]})]}),(0,n.jsx)(o.Z,{className:"mt-3",children:(0,n.jsxs)(h.Z.Group,{as:d.Z,children:[(0,n.jsx)(h.Z.Label,{htmlFor:"password",style:{color:"black"},children:"Password (empty to keep it unchanged):"}),(0,n.jsx)(h.Z.Control,{type:"password",name:"password"})]})}),(0,n.jsx)(o.Z,{className:"mt-3",children:(0,n.jsxs)(h.Z.Group,{as:d.Z,children:[(0,n.jsx)(h.Z.Label,{htmlFor:"pfp",style:{color:"black"},children:"Profile pic:"}),(0,n.jsx)(h.Z.Control,{type:"file",name:"pfp"})]})}),(0,n.jsx)(o.Z,{className:"mt-4",children:(0,n.jsx)(d.Z,{md:6,className:"mx-auto",children:(0,n.jsx)(y.l,{loading:i,type:"submit",className:"w-100",color:"primary",children:"Update User"})})})]})})})})}}},function(e){e.O(0,[755,100,774,888,179],function(){return e(e.s=6326)}),_N_E=e.O()}]);