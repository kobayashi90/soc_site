(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{1220:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/album/[id]",function(){return c(975)}])},6112:function(g,b,a){"use strict";a.d(b,{X:function(){return s},Z:function(){return r}});var h=a(9361),i=a(337),j=a(5893),k=a(7294),l=a(1555),c=a(4184),m=a.n(c),d=a(5675),n=a.n(d),e=a(1664),o=a.n(e),f=a(2327),p=a.n(f),q=a(599);function r(a){var g=a.id,s=a.title,b=a.type,i=void 0===b?"album":b,k=a.status,c=a.height,t=void 0===c?300:c,d=a.width,u=void 0===d?300:d,l=a.placeholder,r=a.style,e="coming"===k,v=l||q.l7,f=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("div",{className:p().img,children:(0,j.jsx)(n(),{alt:s,src:(0,q.Jn)(g,i),layout:"responsive",width:u,height:t,placeholder:"blur",blurDataURL:v})}),(0,j.jsx)("div",{className:"text-wrap text-center p-2",children:e?"Coming Soon":s})]})};return(0,j.jsx)("div",{className:m()(p().albumBox,(0,h.default)({},p().coming,e)),style:r,children:e?(0,j.jsx)(f,{}):(0,j.jsx)(o(),{href:"/".concat(i,"/").concat(g),children:(0,j.jsx)("a",{children:(0,j.jsx)(f,{})})})})}function s(a){var c=a.items,d=a.type,e=a.width,f=a.height,g=a.style,b=a.colProps,h=void 0===b?{}:b;return c.map(function(a){return(0,k.createElement)(l.Z,(0,i.Z)({},h,{key:a.id,className:m()(p().albumBoxContainer,p()[d],"px-1 mb-2")}),(0,j.jsx)(r,(0,i.Z)({},a,{style:g,type:d,width:e,height:f})))})}},9139:function(i,c,a){"use strict";a.d(c,{T:function(){return D},Z:function(){return G}});var j=a(337),k=a(4941),l=a(2378),m=a(5893),n=a(1555),o=a(5005),p=a(1608),q=a(343),r=a(2878),s=a(4716),t=a(7294),b=a(7283),u=a(3359),v=a(319),d=a(7422),w=a.n(d),e=a(1664),x=a.n(e),y=a(2446),z=a(9738),f=a(7983),A=a.n(f),B=a(6974);function g(){var a=(0,l.Z)(["\n  query ($ostId: ID!) {\n    album(id: $ostId){\n      comments {\n        text\n        username\n      }\n      selfComment {\n        text\n        anon\n      }\n    }\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,l.Z)(["\n  mutation ($text: String!, $anon: Boolean!, $ostId: ID!) {\n    updateComment(text: $text, anon: $anon, ostId: $ostId)\n  }\n"]);return h=function(){return a},a}function C(a){var b=a.side,c=a.onClick;return(0,m.jsx)(n.Z,{xs:"auto",children:(0,m.jsx)(o.Z,{onClick:c,className:"h-100 rounded-3",variant:"outline-light",style:{fontSize:"30px"},children:(0,m.jsx)("span",{className:"fas fa-angle-".concat(b)})})})}function D(f){var c=(0,t.useState)(0),d=c[0],h=c[1],i=(0,t.useRef)(null),e=f.comments,b=void 0===e?[]:e,a=b[d],g=function(){return h(d===b.length-1?0:d+1)};return((0,t.useEffect)(function(){i.current&&clearTimeout(i.current),i.current=setTimeout(g,1e4)},[d]),0===b.length)?null:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(p.Z,{children:(0,m.jsx)(n.Z,{className:"blackblock m-2",children:(0,m.jsxs)(p.Z,{children:[b.length>1&&(0,m.jsx)(C,{side:"left",onClick:function(){return h(0===d?b.length-1:d-1)}}),(0,m.jsxs)(n.Z,{className:"py-3",style:{fontSize:"18px"},children:[a.text,(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"mt-2",children:[a.album&&(0,m.jsxs)("span",{children:[" - ",(0,m.jsx)(x(),{href:"/album/".concat(a.album.id),children:(0,m.jsx)("a",{className:A().albumSpan,children:a.album.title})})]}),!a.album&&a.username&&(0,m.jsxs)("span",{children:[" - ",(0,m.jsx)(x(),{href:"/profile/".concat(a.username),children:(0,m.jsx)("a",{className:A().albumSpan,children:a.username})})]})]})]}),b.length>1&&(0,m.jsx)(C,{side:"right",onClick:g})]})})})})}var E=(0,b.Ps)(g()),F=(0,b.Ps)(h());function G(e){var f=e.ostId,g=e.comments,c=(0,B.Z)(),h=(0,t.useState)(!1),L=h[0],Q=h[1],i=(0,t.useState)(0),l=i[0],R=i[1],S=(0,t.useRef)(null),D=(0,y.Z)().user,G=(0,k.Z)((0,u.t)(E),2),M=G[0],H=G[1],I=H.data,T=H.refetch,J=(0,k.Z)((0,v.D)(F),2),U=J[0],N=J[1],O=N.loading,K=(null==I?void 0:I.album)||{comments:void 0===g?[]:g},d=K.comments,b=K.selfComment;(0,t.useEffect)(function(){return M({variables:{ostId:f}})},[D,M,f]),(0,t.useEffect)(function(){S.current&&clearTimeout(S.current),S.current=setTimeout(P,1e4)},[l]);var a=d[l],P=function(){return R(l===d.length-1?0:l+1)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(q.Z,{show:L,centered:!0,onHide:function(){return Q(!1)},children:(0,m.jsx)(q.Z.Body,{className:"m-3",children:(0,m.jsxs)(r.Z,{onSubmit:function(b){var a=w()(b.target,{hash:!0});a=(0,j.Z)({},a,{anon:"on"===a.anon,ostId:f}),U({variables:a}).then(function(){T(),Q(!1)}),b.preventDefault()},style:{color:"black"},children:[(0,m.jsx)(p.Z,{children:(0,m.jsx)(r.Z.Group,{as:n.Z,children:(0,m.jsx)(s.Z,{required:!0,as:"textarea",name:"text",maxLength:300,defaultValue:b?b.text:""})})}),(0,m.jsx)(p.Z,{className:"mt-2",children:(0,m.jsx)(r.Z.Group,{as:n.Z,children:(0,m.jsx)(r.Z.Check,{type:"checkbox",label:c("Comment_Anon"),name:"anon",defaultChecked:!!b&&b.anon})})}),(0,m.jsx)(p.Z,{className:"mt-2",children:(0,m.jsx)(n.Z,{className:"mx-auto",children:(0,m.jsx)(z.l,{loading:O,type:"submit",color:"primary",text:c("Save comment")})})})]})})}),(0,m.jsx)(p.Z,{children:(0,m.jsxs)(n.Z,{className:"blackblock m-2",children:[a&&(0,m.jsxs)(p.Z,{children:[d.length>1&&(0,m.jsx)(C,{side:"left",onClick:function(){return R(0===l?d.length-1:l-1)}}),(0,m.jsxs)(n.Z,{className:"py-3",style:{fontSize:"18px"},children:[a.text,(0,m.jsx)("br",{}),(0,m.jsxs)("div",{className:"mt-2",children:[a.album&&(0,m.jsxs)("span",{children:[" - ",(0,m.jsx)(x(),{href:"/album/".concat(a.album.id),children:(0,m.jsx)("a",{className:A().albumSpan,children:a.album.title})})]}),!a.album&&a.username&&(0,m.jsxs)("span",{children:[" - ",(0,m.jsx)(x(),{href:"/profile/".concat(a.username),children:(0,m.jsx)("a",{className:A().albumSpan,children:a.username})})]})]})]}),d.length>1&&(0,m.jsx)(C,{side:"right",onClick:P})]}),f&&(0,m.jsx)(p.Z,{className:"mt-3 justify-content-center",children:D?(0,m.jsx)(n.Z,{xs:3,children:(0,m.jsx)(o.Z,{onClick:function(){return D?Q(!0):null},className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:c(b?"Edit comment":"Add comment")})}):(0,m.jsx)(n.Z,{xs:"4",children:(0,m.jsx)(o.Z,{className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:c("Comment_Login")})})})]})})]})}},975:function(w,e,a){"use strict";a.r(e),a.d(e,{"__N_SSP":function(){return aF},default:function(){return aG}});var x=a(9361),y=a(337),z=a(4941),A=a(2378),B=a(5893),f=a(7283),C=a(6252),D=a(3359),E=a(7887),l=a(4184),F=a.n(l),b=a(7294),G=a(6792);class H extends b.Component{}function I(a,c){let b=a;return"left"===a?b=c?"end":"start":"right"===a&&(b=c?"start":"end"),b}let c=b.forwardRef(({bsPrefix:a,placement:b,className:d,style:e,children:f,arrowProps:g,popper:l,show:m,...h},i)=>{a=(0,G.vE)(a,"tooltip");let j=(0,G.SC)(),[c]=(null==b?void 0:b.split("-"))||[],k=I(c,j);return(0,B.jsxs)("div",{ref:i,style:e,role:"tooltip","x-placement":c,className:F()(d,a,`bs-tooltip-${k}`),...h,children:[(0,B.jsx)("div",{className:"tooltip-arrow",...g}),(0,B.jsx)("div",{className:`${a}-inner`,children:f})]})});c.defaultProps={placement:"right"},c.displayName="Tooltip";var J=c,K=a(424),L=a(6454),M=a(6852);function N(b,c,d){var a=d-Date.now();b.current=a<=2147483647?setTimeout(c,a):setTimeout(function(){return N(b,c,d)},2147483647)}a(2473);var O=a(5446),P=a(5654),Q=a(3935),R=a(2092),S=a(9606),T=a(2950),U=a(7216),V=a(8146),W=a(5680);let X=()=>{};var Y=function(a,d,{disabled:c,clickTrigger:e}={}){let f=d||X;(0,W.Z)(a,f,{disabled:c,clickTrigger:e});let g=(0,V.Z)(a=>{27===a.keyCode&&f(a)});(0,b.useEffect)(()=>{if(c||null==a)return;let b=(0,U.Z)((0,W.f)(a)),d=(b.defaultView||window).event,e=(0,T.Z)(b,"keyup",a=>{if(a===d){d=void 0;return}g(a)});return()=>{e()}},[a,c,g])},Z=a(4194),$=a(1216);let g=b.forwardRef((a,k)=>{let{flip:l,offset:m,placement:g,containerPadding:n,popperConfig:o={},transition:d}=a,[h,p]=(0,R.Z)(),[q,r]=(0,R.Z)(),s=(0,P.Z)(p,k),i=(0,Z.Z)(a.container),t=(0,Z.Z)(a.target),[e,j]=(0,b.useState)(!a.show),c=(0,S.Z)(t,h,(0,$.ZP)({placement:g,enableEvents:!!a.show,containerPadding:n||5,flip:l,offset:m,arrowElement:q,popperConfig:o}));a.show?e&&j(!1):a.transition||e||j(!0);let u=a.show||d&&!e;if(Y(h,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!u)return null;let f=a.children(Object.assign({},c.attributes.popper,{style:c.styles.popper,ref:s}),{popper:c,placement:g,show:!!a.show,arrowProps:Object.assign({},c.attributes.arrow,{style:c.styles.arrow,ref:r})});if(d){let{onExit:v,onExiting:w,onEnter:x,onEntering:y,onEntered:z}=a;f=(0,B.jsx)(d,{in:a.show,appear:!0,onExit:v,onExiting:w,onExited(...b){j(!0),a.onExited&&a.onExited(...b)},onEnter:x,onEntering:y,onEntered:z,children:f})}return i?Q.createPortal(f,i):null});g.displayName="Overlay";var _=g,aa=a(1132),h=a(6611),m=(0,h.Z)("popover-header"),n=(0,h.Z)("popover-body");let i=b.forwardRef(({bsPrefix:d,placement:b,className:e,style:f,children:c,body:g,arrowProps:h,popper:o,show:p,...i},j)=>{let k=(0,G.vE)(d,"popover"),l=(0,G.SC)(),[a]=(null==b?void 0:b.split("-"))||[],m=I(a,l);return(0,B.jsxs)("div",{ref:j,role:"tooltip",style:f,"x-placement":a,className:F()(e,k,a&&`bs-popover-${m}`),...i,children:[(0,B.jsx)("div",{className:"popover-arrow",...h}),g?(0,B.jsx)(n,{children:c}):c]})});i.defaultProps={placement:"right"};var ab=Object.assign(i,{Header:m,Body:n,POPPER_OFFSET:[0,8]}),o=a(1068),ac=a(8285);let p={transition:o.Z,rootClose:!1,show:!1,placement:"top"},d=b.forwardRef(({children:j,transition:a,popperConfig:c={},...d},e)=>{let k=(0,b.useRef)({}),[f,g]=function(a){let c=(0,b.useRef)(null),d=(0,G.vE)(void 0,"popover"),e=(0,b.useMemo)(()=>({name:"offset",options:{offset:()=>c.current&&(0,aa.Z)(c.current,d)?a||ab.POPPER_OFFSET:a||[0,0]}}),[a,d]);return[c,[e]]}(d.offset),h=(0,P.Z)(e,f),i=!0===a?o.Z:a||void 0;return(0,B.jsx)(_,{...d,ref:h,popperConfig:{...c,modifiers:g.concat(c.modifiers||[])},transition:i,children(d,{arrowProps:e,popper:c,show:f}){var h,i;!function(a,b){let{ref:c}=a,{ref:d}=b;a.ref=c.__wrapped||(c.__wrapped=a=>c((0,ac.Z)(a))),b.ref=d.__wrapped||(d.__wrapped=a=>d((0,ac.Z)(a)))}(d,e);let g=null==c?void 0:c.placement,l=Object.assign(k.current,{state:null==c?void 0:c.state,scheduleUpdate:null==c?void 0:c.update,placement:g,outOfBoundaries:(null==c?void 0:null==(h=c.state)?void 0:null==(i=h.modifiersData.hide)?void 0:i.isReferenceHidden)||!1});return"function"==typeof j?j({...d,placement:g,show:f,...!a&&f&&{className:"show"},popper:l,arrowProps:e}):b.cloneElement(j,{...d,placement:g,arrowProps:e,popper:l,className:F()(j.props.className,!a&&f&&"show"),style:{...j.props.style,...d.style}})}})});d.displayName="Overlay",d.defaultProps=p;var ad=d;function ae(e,c,f){let[a]=c,d=a.currentTarget,b=a.relatedTarget||a.nativeEvent[f];b&&b===d||(0,K.Z)(d,b)||e(...c)}function j({trigger:i,overlay:o,children:c,popperConfig:p={},show:q,defaultShow:r=!1,onToggle:s,delay:t,placement:e,flip:u=e&& -1!==e.indexOf("auto"),...v}){var w,x,d;let j=(0,b.useRef)(null),H=(0,P.Z)(j,c.ref),k=(w=(0,L.Z)(),x=(0,b.useRef)(),(0,M.Z)(function(){return clearTimeout(x.current)}),(0,b.useMemo)(function(){var a=function(){return clearTimeout(x.current)};return{set:function(c,b){void 0===b&&(b=0),w()&&(a(),b<=2147483647?x.current=setTimeout(c,b):N(x,c,Date.now()+b))},clear:a}},[])),I=(0,b.useRef)(""),[l,f]=(0,O.$c)(q,r,s),m=(d=t)&&"object"==typeof d?d:{show:d,hide:d},{onFocus:y,onBlur:z,onClick:A}="function"!=typeof c?b.Children.only(c).props:{},n=(0,b.useCallback)(()=>{if(k.clear(),I.current="show",!m.show){f(!0);return}k.set(()=>{"show"===I.current&&f(!0)},m.show)},[m.show,f,k]),g=(0,b.useCallback)(()=>{if(k.clear(),I.current="hide",!m.hide){f(!1);return}k.set(()=>{"hide"===I.current&&f(!1)},m.hide)},[m.hide,f,k]),C=(0,b.useCallback)((...a)=>{n(),null==y||y(...a)},[n,y]),D=(0,b.useCallback)((...a)=>{g(),null==z||z(...a)},[g,z]),E=(0,b.useCallback)((...a)=>{f(!l),null==A||A(...a)},[A,f,l]),F=(0,b.useCallback)((...a)=>{ae(n,a,"fromElement")},[n]),G=(0,b.useCallback)((...a)=>{ae(g,a,"toElement")},[g]),h=null==i?[]:[].concat(i),a={ref(a){H((0,ac.Z)(a))}};return -1!==h.indexOf("click")&&(a.onClick=E),-1!==h.indexOf("focus")&&(a.onFocus=C,a.onBlur=D),-1!==h.indexOf("hover")&&(a.onMouseOver=F,a.onMouseOut=G),(0,B.jsxs)(B.Fragment,{children:["function"==typeof c?c(a):(0,b.cloneElement)(c,a),(0,B.jsx)(ad,{...v,show:l,onHide:g,flip:u,placement:e,popperConfig:p,target:j.current,children:o})]})}j.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var af=j,ag=a(1608),ah=a(1555),ai=a(682),aj=a(5005),q=a(5675),ak=a.n(q),r=a(9008),al=a.n(r),am=a(782),an=a(1163),s=a(3943),ao=a.n(s),t=a(8879),ap=a.n(t),aq=a(2446),ar=a(6112),as=a(599),at=a(9738),au=a(9139),av=a(6974);function u(){var a=(0,A.Z)(["\nquery downloads ($id: ID!) {\n  downloads(id: $id){\n    title\n    small\n    links{\n      id\n      url\n      provider\n      custom\n      directUrl\n    }\n  }\n}\n"]);return u=function(){return a},a}function v(){var a=(0,A.Z)(["\n  mutation ($ostId: ID!, $score: Int!){\n    rateAlbum(ostId: $ostId, score: $score)\n  }\n"]);return v=function(){return a},a}function aw(){var a=(0,A.Z)(["\n    query ($ostId: ID!) {\n      album(id: $ostId){\n        selfScore\n        avgRating {\n          score\n          users\n        }\n      }\n    }\n  "]);return aw=function(){return a},a}function ax(){var a=(0,A.Z)(["\n  mutation ($ostId: String!) {\n    ","Favorite(ostId: $ostId)\n  }\n"]);return ax=function(){return a},a}function ay(){var a=(0,A.Z)(["\n  query ($ostId: ID!) {\n    album(id: $ostId){\n      isFavorite\n    }\n  }\n"]);return ay=function(){return a},a}var az=(0,f.Ps)(u()),aA=(0,f.Ps)(v());function aB(c){var l=c.score,m=c.users,r=c.ostId,d=(0,b.useState)(),s=d[0],t=d[1],n=(0,aq.Z)().user,o=(0,f.Ps)(aw()),e=(0,z.Z)((0,D.t)(o),2),u=e[0],g=e[1],h=g.data,v=g.refetch;(0,b.useEffect)(function(){return u({variables:{ostId:r}})},[n]);for(var i=(null==h?void 0:h.album)||{avgRating:{score:l,users:m}},j=i.avgRating,w=i.selfScore,p=j.score,q=j.users,k=[],a=1;a<=5;)k.push((0,B.jsx)(function(c){var b,a=c.value,e=(0,av.Z)(),f=(0,C.x)(),d=F()(p>=a||(s||w)>=a?"fas fa-star":p>=a-.5?"fas fa-star-half":"far fa-star",ap().star,(b={},(0,x.default)(b,ap().gold,s?s>=a:w>=a),(0,x.default)(b,"ps-1",a>1),b));return(0,B.jsx)("span",{className:d,onClick:function(){f.mutate({mutation:aA,variables:{ostId:r,score:a}}).then(function(){am.Am.success(e("Rating saved!")),v()}).catch(function(a){console.log(a),am.Am.error(e("Failed to save rating"))})},onMouseOver:function(){return t(a)},onMouseOut:function(){return t()}},a)},{value:a},a)),a++;return(0,B.jsxs)(B.Fragment,{children:[k,(0,B.jsxs)("span",{className:"ms-2",children:["(",p," by ",q," users)"]})]})}var aC=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:75;return"/_next/image?w=3840&q=".concat(b,"&url=").concat((0,as.Jn)(a))},k=function(a){return(0,f.Ps)(ax(),a)},aD=k("add"),aE=k("remove"),aF=!0;function aG(d){var e=d.id,a=d.album,k=d.imageUrl,c=(0,av.Z)(),o=(0,an.useRouter)(),h=(0,aq.Z)().user,i=(0,b.useState)(!1),l=i[0],p=i[1],q=(0,C.x)(),m=(0,f.Ps)(ay()),j=(0,E.a)(m),g=j.data,n=j.refetch;return(0,b.useEffect)(function(){return n({ostId:e})},[h,e,n]),(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(ag.Z,{style:{backgroundAttachment:"fixed",backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundBlendMode:"overlay",backgroundImage:'url("'.concat(aC(a.id,100),'"), linear-gradient(rgba(0,0,0,0.8),rgba(0,0,0,0.8))')},children:[(0,B.jsxs)(al(),{children:[(0,B.jsx)("title",{children:a.title}),(0,B.jsx)("meta",{name:"theme-color",content:a.headerColor},"color"),(0,B.jsx)("meta",{property:"og:url",content:"/album/".concat(a.id)},"url"),(0,B.jsx)("meta",{property:"og:title",content:a.title},"title"),(0,B.jsx)("meta",{property:"og:description",content:a.subTitle||a.artists.map(function(a){return a.name}).join(" - ")},"desc"),(0,B.jsx)("meta",{property:"og:image",content:k},"image")]}),(0,B.jsx)(ah.Z,{className:"p-0 px-md-5 pt-3",children:(0,B.jsxs)(ai.Z,{className:"px-0 px-md-5",children:[(0,B.jsxs)(ag.Z,{children:[(0,B.jsx)(ah.Z,{lg:5,children:(0,B.jsx)(ak(),{layout:"responsive",width:300,height:300,alt:a.title,src:(0,as.Jn)(a.id),placeholder:"blur",blurDataURL:a.placeholder||as.l7})}),(0,B.jsxs)(ah.Z,{lg:7,className:"blackblock",children:[(0,B.jsx)(ag.Z,{children:(0,B.jsxs)(ah.Z,{children:[(0,B.jsx)("h1",{className:F()("text-center",ao().title),children:a.title}),(0,B.jsx)("h6",{className:"text-center",style:{whiteSpace:"pre-wrap"},children:a.subTitle}),(0,B.jsx)("table",{className:ao().table,children:(0,B.jsxs)("tbody",{children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{className:"width-row",children:c("Release Date")}),(0,B.jsx)("td",{children:new Date(a.releaseDate).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric"})})]}),a.artists.length>0&&(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Artists")}),(0,B.jsx)("td",{children:a.artists.map(function(a){return a.id,a.name}).join(", ")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Classification")}),(0,B.jsx)("td",{children:[a.classes.map(function(a){var b=a.name;return c("".concat(b," Soundtrack"))}).join(" & "),a.categories.map(function(a){return a.name}).join(", ")].filter(function(a){return""!==a}).join(" - ")})]}),a.label&&(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Published by")}),(0,B.jsx)("td",{children:(0,B.jsx)("a",{className:"btn btn-link p-0",href:"/publisher/".concat(a.label),children:a.label})})]}),a.platforms.length>0&&(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Platforms")}),(0,B.jsx)("td",{children:a.platforms.map(function(d,f){var c=d.id,e=d.name;return(0,B.jsxs)(b.Fragment,{children:["29"===c?(0,B.jsx)("span",{className:"btn p-0",style:{color:"white"},children:e}):(0,B.jsx)("a",{className:"btn btn-link p-0",href:"/platform/".concat(c),children:e}),f!==a.platforms.length-1&&", "]},c)})})]}),a.games.length>0&&(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Games")}),(0,B.jsx)("td",{children:a.games.map(function(c,e){var d=c.slug,f=c.name;return(0,B.jsxs)(b.Fragment,{children:[(0,B.jsx)("a",{className:"btn btn-link p-0",href:"/game/".concat(d),children:f}),e!==a.games.length-1&&", "]},d)})})]}),a.animations.length>0&&(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:c("Animations")}),(0,B.jsx)("td",{children:a.animations.map(function(c,e){var d=c.id,f=c.title;return(0,B.jsxs)(b.Fragment,{children:[(0,B.jsx)("a",{className:"btn btn-link p-0",href:"/anim/".concat(d),children:f}),e!==a.animations.length-1&&", "]},d)})})]}),(0,B.jsxs)("tr",{children:[(0,B.jsxs)("th",{children:[c("Avg. Rating"),": "]}),(0,B.jsx)("td",{children:(0,B.jsx)(aB,(0,y.Z)({ostId:a.id},a.avgRating))})]})]})})]})}),(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{children:(0,B.jsx)("h6",{className:"text-center",children:a.description})})}),(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{children:(0,B.jsx)(at.l,{loading:l,onClick:g?function(){p(!0),q.mutate({mutation:g.album.isFavorite?aE:aD,variables:{ostId:e}}).then(function(){return am.Am.success(c(g.album.isFavorite?"Favorite_Added":"Favorite_Removed"))}).catch(function(a){console.log(a),am.Am.error("Query failed")}).finally(function(){p(!1),n(),o.replace(o.asPath)})}:null,className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},text:c(g?g.album.isFavorite?"Favorite_Remove":"Favorite_Add":"Favorite_Login")})})})]})]}),(0,B.jsx)("hr",{}),(0,B.jsxs)(ag.Z,{children:[(0,B.jsx)(aJ,{discs:a.discs}),(0,B.jsxs)(ah.Z,{lg:6,className:"blackblock px-10px",children:[a.vgmdb&&(0,B.jsx)(ag.Z,{children:(0,B.jsxs)(ah.Z,{className:"mb-2 ms-2",children:[(0,B.jsxs)("span",{children:["Check album at",":"]}),(0,B.jsx)("a",{className:"ms-2",target:"_blank",rel:"noopener noreferrer",href:a.vgmdb,children:(0,B.jsx)(ak(),{width:100,height:30,alt:"VGMdb",src:"/img/assets/vgmdblogo.png"})})]})}),a.stores.length>0&&(0,B.jsx)(ag.Z,{className:"mt-2 px-3",children:(0,B.jsxs)(ah.Z,{className:ao().stores,style:{paddingLeft:"15px",paddingTop:"10px",paddingRight:"15px",paddingBottom:"10px"},children:[(0,B.jsx)("h1",{className:"text-center homeTitle",style:{fontSize:"30px"},children:c("Buy_Original")}),(0,B.jsx)("hr",{className:"style-white w-100 mt-0"}),(0,B.jsx)(ag.Z,{children:a.stores.map(function(b,c){var d=b.url,a=b.provider;return"SOON"===a?null:(0,B.jsx)(ah.Z,{md:6,className:"d-flex justify-content-center",children:(0,B.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:d,children:(0,B.jsx)(ak(),{className:"rounded",width:190,height:65,alt:a,src:"/img/provider/".concat(a,".jpg")})})},c)})})]})}),(0,B.jsx)("hr",{className:"style-white w-100"}),(0,B.jsx)(aH,{id:e,user:h,t:c})]})]}),(0,B.jsx)(au.Z,{ostId:e,comments:a.comments}),a.related.length>0&&(0,B.jsxs)(ag.Z,{children:[(0,B.jsx)(ah.Z,{children:(0,B.jsx)("div",{className:"blackblock m-2",children:(0,B.jsx)("h1",{className:"text-center text-uppercase ost-title",children:c("Related Soundtracks")})})}),(0,B.jsx)(ag.Z,{className:"justify-content-center",children:(0,B.jsx)(ar.X,{colProps:{md:3,xs:6},items:a.related})})]})]})})]})})}function aH(a){var d=a.id,f=a.user,j=a.t,c=(0,E.a)(az,{variables:{id:d}}),g=c.data,h=c.loading,i=c.refetch;if((0,b.useEffect)(function(){return i({id:d})},[f,d,i]),h)return(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{children:(0,B.jsx)(at.Z,{className:"mx-auto"})})});var e=g.downloads;return(void 0===e?[]:e).map(function(a,c){var d=a.links,e=a.title;return(0,B.jsx)(ag.Z,{children:(0,B.jsxs)(ah.Z,{children:[(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{md:12,children:(0,B.jsx)("h2",{className:"text-center download-txt mb-0",children:e})})}),d.map(function(a){var d=a.id,e=a.url,f=a.provider,c=a.directUrl;return(0,B.jsxs)(b.Fragment,{children:[(0,B.jsx)(ag.Z,{className:"mt-2",children:(0,B.jsx)(ah.Z,{md:12,children:(0,B.jsx)("h5",{className:"text-center",children:f})})}),(0,B.jsxs)(ag.Z,{className:"mx-auto mb-3",children:[(0,B.jsx)(ah.Z,{xs:6,className:" mx-auto py-2",children:(0,B.jsx)(aj.Z,{target:"_blank",variant:"secondary",className:ao().download,href:e,children:j("Download")})}),c&&(0,B.jsx)(ah.Z,{className:"py-2",children:(0,B.jsx)(aI,{target:"_blank",directUrl:c})})]})]},d)}),(0,B.jsx)("hr",{className:"style-white w-100"})]})},c)})}function aI(d){var a=d.directUrl,b=(0,av.Z)(),c="false"===a,e=c?(0,B.jsx)(aj.Z,{variant:"secondary",className:F()(ao().download,ao().direct),disabled:c,children:b("Direct")}):(0,B.jsx)(aj.Z,{target:"_blank",variant:"secondary",className:F()(ao().download,ao().direct),href:a,children:b("Direct")});return(0,B.jsx)(af,{placement:"top",overlay:function(a){return c?(0,B.jsx)(J,(0,y.Z)({},a,{id:ao().tooltip,children:b("Become_Donator")})):(0,B.jsx)("div",{})},children:e})}function aJ(d){var a=d.discs,c=(0,b.useState)(0),e=c[0],g=c[1],f=(0,av.Z)();return(0,B.jsx)(ah.Z,{lg:6,children:(0,B.jsxs)("div",{className:"blackblock d-inline-block w-100",children:[(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{children:(0,B.jsx)("h1",{className:F()("text-center text-uppercase",ao().title),children:f("Tracklist")})})}),a.length>1&&(0,B.jsx)(ag.Z,{style:{transform:"translateY(2px)"},children:a.map(function(d,c){var b=d.number;return(0,B.jsx)(ah.Z,{className:F()("text-center",{"ps-0":c>0,"pe-0":c<a.length-1}),children:(0,B.jsxs)("div",{onClick:function(){return g(b)},className:"py-2",style:{cursor:e===b?"":"pointer",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",borderColor:"#efefef",borderRightStyle:a.length-1===c?"solid":"hidden",borderBottomWidth:e===b?"0px":"2px"},children:[f("Disc")," ",b+1]})},b)})}),(0,B.jsx)(ag.Z,{children:(0,B.jsx)(ah.Z,{children:(0,B.jsx)("div",{style:{padding:"5px 5px 5px 5px",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",borderColor:"#efefef",borderTopWidth:a.length>1?"0px":"2px"},children:(0,B.jsx)("table",{cellSpacing:"0",cellPadding:"1",border:"0",children:(0,B.jsx)("tbody",{children:a.length>0&&a[e].body.split("\n").map(function(b,a){return(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{className:"smallfont",style:{padding:"8px"},children:(0,B.jsx)("span",{className:"label",children:a+1})}),(0,B.jsx)("td",{className:"smallfont",width:"100%",style:{padding:"8px"},children:b})]},a)})})})})})})]})})}},3943:function(a){a.exports={title:"Album_title__ZaGZL",table:"Album_table__NGdRi",content:"Album_content__ActvU",stores:"Album_stores__OMIJi",download:"Album_download__pH_5m",direct:"Album_direct__br6xh"}},2327:function(a){a.exports={albumBoxContainer:"AlbumBoxes_albumBoxContainer___5OUW",anim:"AlbumBoxes_anim__Xn34t",albumBox:"AlbumBoxes_albumBox__qjbi0",img:"AlbumBoxes_img__gFWAG",coming:"AlbumBoxes_coming__jiMAE"}},7983:function(a){a.exports={albumSpan:"Profile_albumSpan__O9GbQ"}},8879:function(a){a.exports={star:"Stars_star__yQXT9",gold:"Stars_gold__v_Nx7"}}},function(a){a.O(0,[774,888,179],function(){return a(a.s=1220)}),_N_E=a.O()}])