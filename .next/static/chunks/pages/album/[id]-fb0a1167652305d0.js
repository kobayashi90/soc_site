(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[847],{1220:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/album/[id]",function(){return c(6010)}])},9578:function(g,b,a){"use strict";a.d(b,{X:function(){return t},Z:function(){return s}});var h=a(4924),i=a(6042),j=a(9396),k=a(5893),l=a(7294),m=a(1555),c=a(4184),n=a.n(c),d=a(5675),o=a.n(d),e=a(1664),p=a.n(e),f=a(4876),q=a.n(f),r=a(1331);function s(a){var g=a.id,s=a.title,b=a.type,i=void 0===b?"album":b,j=a.status,c=a.height,t=void 0===c?300:c,d=a.width,u=void 0===d?300:d,l=a.placeholder,m=a.style,e="coming"===j,v=l||r.l7,f=function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:q().img,children:(0,k.jsx)(o(),{alt:s,src:(0,r.Jn)(g,i),layout:"responsive",width:u,height:t,placeholder:"blur",blurDataURL:v})}),(0,k.jsx)("div",{className:"text-wrap text-center p-2",children:e?"Coming Soon":s})]})};return(0,k.jsx)("div",{className:n()(q().albumBox,(0,h.Z)({},q().coming,e)),style:m,children:e?(0,k.jsx)(f,{}):(0,k.jsx)(p(),{href:"/".concat(i,"/").concat(g),children:(0,k.jsx)("a",{children:(0,k.jsx)(f,{})})})})}function t(a){var c=a.items,d=a.type,e=a.width,f=a.height,g=a.style,b=a.colProps,h=void 0===b?{}:b;return c.map(function(a){return(0,l.createElement)(m.Z,(0,j.Z)((0,i.Z)({},h),{key:a.id,className:n()(q().albumBoxContainer,q()[d],"px-1 mb-2")}),(0,k.jsx)(s,(0,j.Z)((0,i.Z)({},a),{style:g,type:d,width:e,height:f})))})}},6658:function(i,c,a){"use strict";a.d(c,{T:function(){return E},Z:function(){return H}});var j=a(6042),k=a(9396),l=a(828),m=a(7297),n=a(5893),o=a(1555),p=a(5005),q=a(1608),r=a(343),s=a(2878),t=a(4716),u=a(7294),b=a(7283),v=a(3359),w=a(319),d=a(7422),x=a.n(d),e=a(1664),y=a.n(e),z=a(1292),A=a(5043),f=a(9409),B=a.n(f),C=a(2729);function g(){var a=(0,m.Z)(["\n  query ($ostId: ID!) {\n    album(id: $ostId){\n      comments {\n        text\n        username\n      }\n      selfComment {\n        text\n        anon\n      }\n    }\n  }\n"]);return g=function(){return a},a}function h(){var a=(0,m.Z)(["\n  mutation ($text: String!, $anon: Boolean!, $ostId: ID!) {\n    updateComment(text: $text, anon: $anon, ostId: $ostId)\n  }\n"]);return h=function(){return a},a}function D(a){var b=a.side,c=a.onClick;return(0,n.jsx)(o.Z,{xs:"auto",children:(0,n.jsx)(p.Z,{onClick:c,className:"h-100 rounded-3",variant:"outline-light",style:{fontSize:"30px"},children:(0,n.jsx)("span",{className:"fas fa-angle-".concat(b)})})})}function E(f){var c=(0,u.useState)(0),d=c[0],h=c[1],i=(0,u.useRef)(null),e=f.comments,b=void 0===e?[]:e,a=b[d],g=function(){return h(d===b.length-1?0:d+1)};return((0,u.useEffect)(function(){i.current&&clearTimeout(i.current),i.current=setTimeout(g,1e4)},[d]),0===b.length)?null:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(q.Z,{children:(0,n.jsx)(o.Z,{className:"blackblock m-2",children:(0,n.jsxs)(q.Z,{children:[b.length>1&&(0,n.jsx)(D,{side:"left",onClick:function(){return h(0===d?b.length-1:d-1)}}),(0,n.jsxs)(o.Z,{className:"py-3",style:{fontSize:"18px"},children:[a.text,(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"mt-2",children:[a.album&&(0,n.jsxs)("span",{children:[" - ",(0,n.jsx)(y(),{href:"/album/".concat(a.album.id),children:(0,n.jsx)("a",{className:B().albumSpan,children:a.album.title})})]}),!a.album&&a.username&&(0,n.jsxs)("span",{children:[" - ",(0,n.jsx)(y(),{href:"/profile/".concat(a.username),children:(0,n.jsx)("a",{className:B().albumSpan,children:a.username})})]})]})]}),b.length>1&&(0,n.jsx)(D,{side:"right",onClick:g})]})})})})}var F=(0,b.Ps)(g()),G=(0,b.Ps)(h());function H(e){var f=e.ostId,g=e.comments,c=(0,C.Z)(),h=(0,u.useState)(!1),M=h[0],R=h[1],i=(0,u.useState)(0),m=i[0],S=i[1],T=(0,u.useRef)(null),E=(0,z.Z)().user,H=(0,l.Z)((0,v.t)(F),2),N=H[0],I=H[1],J=I.data,U=I.refetch,K=(0,l.Z)((0,w.D)(G),2),V=K[0],O=K[1],P=O.loading,L=(null==J?void 0:J.album)||{comments:void 0===g?[]:g},d=L.comments,b=L.selfComment;(0,u.useEffect)(function(){return N({variables:{ostId:f}})},[E,N,f]),(0,u.useEffect)(function(){T.current&&clearTimeout(T.current),T.current=setTimeout(Q,1e4)},[m]);var a=d[m],Q=function(){return S(m===d.length-1?0:m+1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Z,{show:M,centered:!0,onHide:function(){return R(!1)},children:(0,n.jsx)(r.Z.Body,{className:"m-3",children:(0,n.jsxs)(s.Z,{onSubmit:function(b){var a=x()(b.target,{hash:!0});a=(0,k.Z)((0,j.Z)({},a),{anon:"on"===a.anon,ostId:f}),V({variables:a}).then(function(){U(),R(!1)}),b.preventDefault()},style:{color:"black"},children:[(0,n.jsx)(q.Z,{children:(0,n.jsx)(s.Z.Group,{as:o.Z,children:(0,n.jsx)(t.Z,{required:!0,as:"textarea",name:"text",maxLength:300,defaultValue:b?b.text:""})})}),(0,n.jsx)(q.Z,{className:"mt-2",children:(0,n.jsx)(s.Z.Group,{as:o.Z,children:(0,n.jsx)(s.Z.Check,{type:"checkbox",label:c("Comment_Anon"),name:"anon",defaultChecked:!!b&&b.anon})})}),(0,n.jsx)(q.Z,{className:"mt-2",children:(0,n.jsx)(o.Z,{className:"mx-auto",children:(0,n.jsx)(A.l,{loading:P,type:"submit",color:"primary",children:c("Save comment")})})})]})})}),(0,n.jsx)(q.Z,{children:(0,n.jsxs)(o.Z,{className:"blackblock m-2",children:[a&&(0,n.jsxs)(q.Z,{children:[d.length>1&&(0,n.jsx)(D,{side:"left",onClick:function(){return S(0===m?d.length-1:m-1)}}),(0,n.jsxs)(o.Z,{className:"py-3",style:{fontSize:"18px"},children:[a.text,(0,n.jsx)("br",{}),(0,n.jsxs)("div",{className:"mt-2",children:[a.album&&(0,n.jsxs)("span",{children:[" - ",(0,n.jsx)(y(),{href:"/album/".concat(a.album.id),children:(0,n.jsx)("a",{className:B().albumSpan,children:a.album.title})})]}),!a.album&&a.username&&(0,n.jsxs)("span",{children:[" - ",(0,n.jsx)(y(),{href:"/profile/".concat(a.username),children:(0,n.jsx)("a",{className:B().albumSpan,children:a.username})})]})]})]}),d.length>1&&(0,n.jsx)(D,{side:"right",onClick:Q})]}),f&&(0,n.jsx)(q.Z,{className:"mt-3 justify-content-center",children:E?(0,n.jsx)(o.Z,{xs:3,children:(0,n.jsx)(p.Z,{onClick:function(){return E?R(!0):null},className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:c(b?"Edit comment":"Add comment")})}):(0,n.jsx)(o.Z,{xs:"4",children:(0,n.jsx)(p.Z,{className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:c("Comment_Login")})})})]})})]})}},6010:function(w,e,a){"use strict";a.r(e),a.d(e,{"__N_SSP":function(){return aG},default:function(){return aH}});var x=a(4924),y=a(6042),z=a(9396),A=a(828),B=a(7297),C=a(5893),f=a(7283),D=a(6252),E=a(3359),F=a(7887),l=a(4184),G=a.n(l),b=a(7294),H=a(6792);class I extends b.Component{}function J(a,c){let b=a;return"left"===a?b=c?"end":"start":"right"===a&&(b=c?"start":"end"),b}let c=b.forwardRef(({bsPrefix:a,placement:b,className:d,style:e,children:f,arrowProps:g,popper:l,show:m,...h},i)=>{a=(0,H.vE)(a,"tooltip");let j=(0,H.SC)(),[c]=(null==b?void 0:b.split("-"))||[],k=J(c,j);return(0,C.jsxs)("div",{ref:i,style:e,role:"tooltip","x-placement":c,className:G()(d,a,`bs-tooltip-${k}`),...h,children:[(0,C.jsx)("div",{className:"tooltip-arrow",...g}),(0,C.jsx)("div",{className:`${a}-inner`,children:f})]})});c.defaultProps={placement:"right"},c.displayName="Tooltip";var K=c,L=a(424),M=a(6454),N=a(6852);function O(b,c,d){var a=d-Date.now();b.current=a<=2147483647?setTimeout(c,a):setTimeout(function(){return O(b,c,d)},2147483647)}a(2473);var P=a(5446),Q=a(5654),R=a(3935),S=a(2092),T=a(9606),U=a(2950),V=a(7216),W=a(8146),X=a(5680);let Y=()=>{};var Z=function(a,d,{disabled:c,clickTrigger:e}={}){let f=d||Y;(0,X.Z)(a,f,{disabled:c,clickTrigger:e});let g=(0,W.Z)(a=>{27===a.keyCode&&f(a)});(0,b.useEffect)(()=>{if(c||null==a)return;let b=(0,V.Z)((0,X.f)(a)),d=(b.defaultView||window).event,e=(0,U.Z)(b,"keyup",a=>{if(a===d){d=void 0;return}g(a)});return()=>{e()}},[a,c,g])},$=a(4194),_=a(12);let g=b.forwardRef((a,k)=>{let{flip:l,offset:m,placement:g,containerPadding:n,popperConfig:o={},transition:d}=a,[h,p]=(0,S.Z)(),[q,r]=(0,S.Z)(),s=(0,Q.Z)(p,k),i=(0,$.Z)(a.container),t=(0,$.Z)(a.target),[e,j]=(0,b.useState)(!a.show),c=(0,T.Z)(t,h,(0,_.ZP)({placement:g,enableEvents:!!a.show,containerPadding:n||5,flip:l,offset:m,arrowElement:q,popperConfig:o}));a.show?e&&j(!1):a.transition||e||j(!0);let u=a.show||d&&!e;if(Z(h,a.onHide,{disabled:!a.rootClose||a.rootCloseDisabled,clickTrigger:a.rootCloseEvent}),!u)return null;let f=a.children(Object.assign({},c.attributes.popper,{style:c.styles.popper,ref:s}),{popper:c,placement:g,show:!!a.show,arrowProps:Object.assign({},c.attributes.arrow,{style:c.styles.arrow,ref:r})});if(d){let{onExit:v,onExiting:w,onEnter:x,onEntering:y,onEntered:z}=a;f=(0,C.jsx)(d,{in:a.show,appear:!0,onExit:v,onExiting:w,onExited(...b){j(!0),a.onExited&&a.onExited(...b)},onEnter:x,onEntering:y,onEntered:z,children:f})}return i?R.createPortal(f,i):null});g.displayName="Overlay";var aa=g,ab=a(1132),h=a(6611),m=(0,h.Z)("popover-header"),n=(0,h.Z)("popover-body");let i=b.forwardRef(({bsPrefix:d,placement:b,className:e,style:f,children:c,body:g,arrowProps:h,popper:o,show:p,...i},j)=>{let k=(0,H.vE)(d,"popover"),l=(0,H.SC)(),[a]=(null==b?void 0:b.split("-"))||[],m=J(a,l);return(0,C.jsxs)("div",{ref:j,role:"tooltip",style:f,"x-placement":a,className:G()(e,k,a&&`bs-popover-${m}`),...i,children:[(0,C.jsx)("div",{className:"popover-arrow",...h}),g?(0,C.jsx)(n,{children:c}):c]})});i.defaultProps={placement:"right"};var ac=Object.assign(i,{Header:m,Body:n,POPPER_OFFSET:[0,8]}),o=a(1068),ad=a(8285);let p={transition:o.Z,rootClose:!1,show:!1,placement:"top"},d=b.forwardRef(({children:j,transition:a,popperConfig:c={},...d},e)=>{let k=(0,b.useRef)({}),[f,g]=function(a){let c=(0,b.useRef)(null),d=(0,H.vE)(void 0,"popover"),e=(0,b.useMemo)(()=>({name:"offset",options:{offset:()=>c.current&&(0,ab.Z)(c.current,d)?a||ac.POPPER_OFFSET:a||[0,0]}}),[a,d]);return[c,[e]]}(d.offset),h=(0,Q.Z)(e,f),i=!0===a?o.Z:a||void 0;return(0,C.jsx)(aa,{...d,ref:h,popperConfig:{...c,modifiers:g.concat(c.modifiers||[])},transition:i,children(d,{arrowProps:e,popper:c,show:f}){var h,i;!function(a,b){let{ref:c}=a,{ref:d}=b;a.ref=c.__wrapped||(c.__wrapped=a=>c((0,ad.Z)(a))),b.ref=d.__wrapped||(d.__wrapped=a=>d((0,ad.Z)(a)))}(d,e);let g=null==c?void 0:c.placement,l=Object.assign(k.current,{state:null==c?void 0:c.state,scheduleUpdate:null==c?void 0:c.update,placement:g,outOfBoundaries:(null==c?void 0:null==(h=c.state)?void 0:null==(i=h.modifiersData.hide)?void 0:i.isReferenceHidden)||!1});return"function"==typeof j?j({...d,placement:g,show:f,...!a&&f&&{className:"show"},popper:l,arrowProps:e}):b.cloneElement(j,{...d,placement:g,arrowProps:e,popper:l,className:G()(j.props.className,!a&&f&&"show"),style:{...j.props.style,...d.style}})}})});d.displayName="Overlay",d.defaultProps=p;var ae=d;function af(e,c,f){let[a]=c,d=a.currentTarget,b=a.relatedTarget||a.nativeEvent[f];b&&b===d||(0,L.Z)(d,b)||e(...c)}function j({trigger:i,overlay:o,children:c,popperConfig:p={},show:q,defaultShow:r=!1,onToggle:s,delay:t,placement:e,flip:u=e&& -1!==e.indexOf("auto"),...v}){var w,x,d;let j=(0,b.useRef)(null),H=(0,Q.Z)(j,c.ref),k=(w=(0,M.Z)(),x=(0,b.useRef)(),(0,N.Z)(function(){return clearTimeout(x.current)}),(0,b.useMemo)(function(){var a=function(){return clearTimeout(x.current)};return{set:function(c,b){void 0===b&&(b=0),w()&&(a(),b<=2147483647?x.current=setTimeout(c,b):O(x,c,Date.now()+b))},clear:a}},[])),I=(0,b.useRef)(""),[l,f]=(0,P.$c)(q,r,s),m=(d=t)&&"object"==typeof d?d:{show:d,hide:d},{onFocus:y,onBlur:z,onClick:A}="function"!=typeof c?b.Children.only(c).props:{},n=(0,b.useCallback)(()=>{if(k.clear(),I.current="show",!m.show){f(!0);return}k.set(()=>{"show"===I.current&&f(!0)},m.show)},[m.show,f,k]),g=(0,b.useCallback)(()=>{if(k.clear(),I.current="hide",!m.hide){f(!1);return}k.set(()=>{"hide"===I.current&&f(!1)},m.hide)},[m.hide,f,k]),B=(0,b.useCallback)((...a)=>{n(),null==y||y(...a)},[n,y]),D=(0,b.useCallback)((...a)=>{g(),null==z||z(...a)},[g,z]),E=(0,b.useCallback)((...a)=>{f(!l),null==A||A(...a)},[A,f,l]),F=(0,b.useCallback)((...a)=>{af(n,a,"fromElement")},[n]),G=(0,b.useCallback)((...a)=>{af(g,a,"toElement")},[g]),h=null==i?[]:[].concat(i),a={ref(a){H((0,ad.Z)(a))}};return -1!==h.indexOf("click")&&(a.onClick=E),-1!==h.indexOf("focus")&&(a.onFocus=B,a.onBlur=D),-1!==h.indexOf("hover")&&(a.onMouseOver=F,a.onMouseOut=G),(0,C.jsxs)(C.Fragment,{children:["function"==typeof c?c(a):(0,b.cloneElement)(c,a),(0,C.jsx)(ae,{...v,show:l,onHide:g,flip:u,placement:e,popperConfig:p,target:j.current,children:o})]})}j.defaultProps={defaultShow:!1,trigger:["hover","focus"]};var ag=j,ah=a(1608),ai=a(1555),aj=a(682),ak=a(5005),q=a(5675),al=a.n(q),r=a(9008),am=a.n(r),an=a(782),ao=a(1163),s=a(119),ap=a.n(s),t=a(3463),aq=a.n(t),ar=a(1292),as=a(9578),at=a(1331),au=a(5043),av=a(6658),aw=a(2729);function u(){var a=(0,B.Z)(["\nquery downloads ($id: ID!) {\n  downloads(id: $id){\n    title\n    small\n    links{\n      id\n      url\n      provider\n      custom\n      directUrl\n    }\n  }\n}\n"]);return u=function(){return a},a}function v(){var a=(0,B.Z)(["\n  mutation ($ostId: ID!, $score: Int!){\n    rateAlbum(ostId: $ostId, score: $score)\n  }\n"]);return v=function(){return a},a}function ax(){var a=(0,B.Z)(["\n    query ($ostId: ID!) {\n      album(id: $ostId){\n        selfScore\n        avgRating {\n          score\n          users\n        }\n      }\n    }\n  "]);return ax=function(){return a},a}function ay(){var a=(0,B.Z)(["\n  mutation ($ostId: String!) {\n    ","Favorite(ostId: $ostId)\n  }\n"]);return ay=function(){return a},a}function az(){var a=(0,B.Z)(["\n  query ($ostId: ID!) {\n    album(id: $ostId){\n      isFavorite\n    }\n  }\n"]);return az=function(){return a},a}var aA=(0,f.Ps)(u()),aB=(0,f.Ps)(v());function aC(c){var l=c.score,m=c.users,r=c.ostId,d=(0,b.useState)(),s=d[0],t=d[1],n=(0,ar.Z)().user,o=(0,f.Ps)(ax()),e=(0,A.Z)((0,E.t)(o),2),u=e[0],g=e[1],h=g.data,v=g.refetch;(0,b.useEffect)(function(){return u({variables:{ostId:r}})},[n]);for(var i=(null==h?void 0:h.album)||{avgRating:{score:l,users:m}},j=i.avgRating,w=i.selfScore,p=j.score,q=j.users,k=[],a=1;a<=5;)k.push((0,C.jsx)(function(c){var b,a=c.value,e=(0,aw.Z)(),f=(0,D.x)(),d=G()(p>=a||(s||w)>=a?"fas fa-star":p>=a-.5?"fas fa-star-half":"far fa-star",aq().star,(b={},(0,x.Z)(b,aq().gold,s?s>=a:w>=a),(0,x.Z)(b,"ps-1",a>1),b));return(0,C.jsx)("span",{className:d,onClick:function(){f.mutate({mutation:aB,variables:{ostId:r,score:a}}).then(function(){an.Am.success(e("Rating saved!")),v()}).catch(function(a){console.log(a),an.Am.error(e("Failed to save rating"))})},onMouseOver:function(){return t(a)},onMouseOut:function(){return t()}},a)},{value:a},a)),a++;return(0,C.jsxs)(C.Fragment,{children:[k,(0,C.jsxs)("span",{className:"ms-2",children:["(",p," by ",q," users)"]})]})}var aD=function(a){var b=arguments.length>1&& void 0!==arguments[1]?arguments[1]:75;return"/_next/image?w=3840&q=".concat(b,"&url=").concat((0,at.Jn)(a))},k=function(a){return(0,f.Ps)(ay(),a)},aE=k("add"),aF=k("remove"),aG=!0;function aH(d){var e=d.id,a=d.album,k=d.imageUrl,c=(0,aw.Z)(),o=(0,ao.useRouter)(),h=(0,ar.Z)().user,i=(0,b.useState)(!1),l=i[0],p=i[1],q=(0,D.x)(),m=(0,f.Ps)(az()),j=(0,F.a)(m),g=j.data,n=j.refetch;return(0,b.useEffect)(function(){return n({ostId:e})},[h,e,n]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(ah.Z,{style:{backgroundAttachment:"fixed",backgroundPosition:"top center",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundBlendMode:"overlay",backgroundImage:'url("'.concat(aD(a.id,100),'"), linear-gradient(rgba(0,0,0,0.8),rgba(0,0,0,0.8))')},children:[(0,C.jsxs)(am(),{children:[(0,C.jsx)("title",{children:a.title}),(0,C.jsx)("meta",{name:"theme-color",content:a.headerColor},"color"),(0,C.jsx)("meta",{property:"og:url",content:"/album/".concat(a.id)},"url"),(0,C.jsx)("meta",{property:"og:title",content:a.title},"title"),(0,C.jsx)("meta",{property:"og:description",content:a.subTitle||a.artists.map(function(a){return a.name}).join(" - ")},"desc"),(0,C.jsx)("meta",{property:"og:image",content:k},"image")]}),(0,C.jsx)(ai.Z,{className:"p-0 px-md-5 pt-3",children:(0,C.jsxs)(aj.Z,{className:"px-0 px-md-5",children:[(0,C.jsxs)(ah.Z,{children:[(0,C.jsx)(ai.Z,{lg:5,children:(0,C.jsx)(al(),{layout:"responsive",width:300,height:300,alt:a.title,src:(0,at.Jn)(a.id),placeholder:"blur",blurDataURL:a.placeholder||at.l7})}),(0,C.jsxs)(ai.Z,{lg:7,className:"blackblock",children:[(0,C.jsx)(ah.Z,{children:(0,C.jsxs)(ai.Z,{children:[(0,C.jsx)("h1",{className:G()("text-center",ap().title),children:a.title}),(0,C.jsx)("h6",{className:"text-center",style:{whiteSpace:"pre-wrap"},children:a.subTitle}),(0,C.jsx)("table",{className:ap().table,children:(0,C.jsxs)("tbody",{children:[(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"width-row",children:c("Release Date")}),(0,C.jsx)("td",{children:new Date(a.releaseDate).toLocaleString(void 0,{day:"numeric",month:"short",year:"numeric"})})]}),a.artists.length>0&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Artists")}),(0,C.jsx)("td",{children:a.artists.map(function(a){return a.id,a.name}).join(", ")})]}),(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Classification")}),(0,C.jsx)("td",{children:[a.classes.map(function(a){var b=a.name;return c("".concat(b," Soundtrack"))}).join(" & "),a.categories.map(function(a){return a.name}).join(", ")].filter(function(a){return""!==a}).join(" - ")})]}),a.label&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Published by")}),(0,C.jsx)("td",{children:(0,C.jsx)("a",{className:"btn btn-link p-0",href:"/publisher/".concat(a.label),children:a.label})})]}),a.platforms.length>0&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Platforms")}),(0,C.jsx)("td",{children:a.platforms.map(function(d,f){var c=d.id,e=d.name;return(0,C.jsxs)(b.Fragment,{children:["29"===c?(0,C.jsx)("span",{className:"btn p-0",style:{color:"white"},children:e}):(0,C.jsx)("a",{className:"btn btn-link p-0",href:"/platform/".concat(c),children:e}),f!==a.platforms.length-1&&", "]},c)})})]}),a.games.length>0&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Games")}),(0,C.jsx)("td",{children:a.games.map(function(c,e){var d=c.slug,f=c.name;return(0,C.jsxs)(b.Fragment,{children:[(0,C.jsx)("a",{className:"btn btn-link p-0",href:"/game/".concat(d),children:f}),e!==a.games.length-1&&", "]},d)})})]}),a.animations.length>0&&(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{children:c("Animations")}),(0,C.jsx)("td",{children:a.animations.map(function(c,e){var d=c.id,f=c.title;return(0,C.jsxs)(b.Fragment,{children:[(0,C.jsx)("a",{className:"btn btn-link p-0",href:"/anim/".concat(d),children:f}),e!==a.animations.length-1&&", "]},d)})})]}),(0,C.jsxs)("tr",{children:[(0,C.jsxs)("th",{children:[c("Avg. Rating"),": "]}),(0,C.jsx)("td",{children:(0,C.jsx)(aC,(0,y.Z)({ostId:a.id},a.avgRating))})]})]})})]})}),(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{children:(0,C.jsx)("h6",{className:"text-center",children:a.description})})}),(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{children:(0,C.jsx)(au.l,{loading:l,onClick:g?function(){p(!0),q.mutate({mutation:g.album.isFavorite?aF:aE,variables:{ostId:e}}).then(function(){return an.Am.success(c(g.album.isFavorite?"Favorite_Added":"Favorite_Removed"))}).catch(function(a){console.log(a),an.Am.error("Query failed")}).finally(function(){p(!1),n(),o.replace(o.asPath)})}:null,className:"w-100 rounded-3",variant:"outline-light",style:{fontSize:"18px"},children:c(g?g.album.isFavorite?"Favorite_Remove":"Favorite_Add":"Favorite_Login")})})})]})]}),(0,C.jsx)("hr",{}),(0,C.jsxs)(ah.Z,{children:[(0,C.jsx)(aK,{discs:a.discs}),(0,C.jsxs)(ai.Z,{lg:6,className:"blackblock px-10px",children:[a.vgmdb&&(0,C.jsx)(ah.Z,{children:(0,C.jsxs)(ai.Z,{className:"mb-2 ms-2",children:[(0,C.jsxs)("span",{children:["Check album at",":"]}),(0,C.jsx)("a",{className:"ms-2",target:"_blank",rel:"noopener noreferrer",href:a.vgmdb,children:(0,C.jsx)(al(),{width:100,height:30,alt:"VGMdb",src:"/img/assets/vgmdblogo.png"})})]})}),a.stores.length>0&&(0,C.jsx)(ah.Z,{className:"mt-2 px-3",children:(0,C.jsxs)(ai.Z,{className:ap().stores,style:{paddingLeft:"15px",paddingTop:"10px",paddingRight:"15px",paddingBottom:"10px"},children:[(0,C.jsx)("h1",{className:"text-center homeTitle",style:{fontSize:"30px"},children:c("Buy_Original")}),(0,C.jsx)("hr",{className:"style-white w-100 mt-0"}),(0,C.jsx)(ah.Z,{children:a.stores.map(function(b,c){var d=b.url,a=b.provider;return"SOON"===a?null:(0,C.jsx)(ai.Z,{md:6,className:"d-flex justify-content-center",children:(0,C.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:d,children:(0,C.jsx)(al(),{className:"rounded",width:190,height:65,alt:a,src:"/img/provider/".concat(a,".jpg")})})},c)})})]})}),(0,C.jsx)("hr",{className:"style-white w-100"}),(0,C.jsx)(aI,{id:e,user:h,t:c})]})]}),(0,C.jsx)(av.Z,{ostId:e,comments:a.comments}),a.related.length>0&&(0,C.jsxs)(ah.Z,{children:[(0,C.jsx)(ai.Z,{children:(0,C.jsx)("div",{className:"blackblock m-2",children:(0,C.jsx)("h1",{className:"text-center text-uppercase ost-title",children:c("Related Soundtracks")})})}),(0,C.jsx)(ah.Z,{className:"justify-content-center",children:(0,C.jsx)(as.X,{colProps:{md:3,xs:6},items:a.related})})]})]})})]})})}function aI(a){var d=a.id,f=a.user,j=a.t,c=(0,F.a)(aA,{variables:{id:d}}),g=c.data,h=c.loading,i=c.refetch;if((0,b.useEffect)(function(){return i({id:d})},[f,d,i]),h)return(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{children:(0,C.jsx)(au.Z,{className:"mx-auto"})})});var e=g.downloads;return(void 0===e?[]:e).map(function(a,c){var d=a.links,e=a.title;return(0,C.jsx)(ah.Z,{children:(0,C.jsxs)(ai.Z,{children:[(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{md:12,children:(0,C.jsx)("h2",{className:"text-center download-txt mb-0",children:e})})}),d.map(function(a){var d=a.id,e=a.url,f=a.provider,c=a.directUrl;return(0,C.jsxs)(b.Fragment,{children:[(0,C.jsx)(ah.Z,{className:"mt-2",children:(0,C.jsx)(ai.Z,{md:12,children:(0,C.jsx)("h5",{className:"text-center",children:f})})}),(0,C.jsxs)(ah.Z,{className:"mx-auto mb-3",children:[(0,C.jsx)(ai.Z,{xs:6,className:" mx-auto py-2",children:(0,C.jsx)(ak.Z,{target:"_blank",variant:"secondary",className:ap().download,href:e,children:j("Download")})}),c&&(0,C.jsx)(ai.Z,{className:"py-2",children:(0,C.jsx)(aJ,{target:"_blank",directUrl:c})})]})]},d)}),(0,C.jsx)("hr",{className:"style-white w-100"})]})},c)})}function aJ(d){var a=d.directUrl,b=(0,aw.Z)(),c="false"===a,e=c?(0,C.jsx)(ak.Z,{variant:"secondary",className:G()(ap().download,ap().direct),disabled:c,children:b("Direct")}):(0,C.jsx)(ak.Z,{target:"_blank",variant:"secondary",className:G()(ap().download,ap().direct),href:a,children:b("Direct")});return(0,C.jsx)(ag,{placement:"top",overlay:function(a){return c?(0,C.jsx)(K,(0,z.Z)((0,y.Z)({},a),{id:ap().tooltip,children:b("Become_Donator")})):(0,C.jsx)("div",{})},children:e})}function aK(d){var a=d.discs,c=(0,b.useState)(0),e=c[0],g=c[1],f=(0,aw.Z)();return(0,C.jsx)(ai.Z,{lg:6,children:(0,C.jsxs)("div",{className:"blackblock d-inline-block w-100",children:[(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{children:(0,C.jsx)("h1",{className:G()("text-center text-uppercase",ap().title),children:f("Tracklist")})})}),a.length>1&&(0,C.jsx)(ah.Z,{style:{transform:"translateY(2px)"},children:a.map(function(d,c){var b=d.number;return(0,C.jsx)(ai.Z,{className:G()("text-center",{"ps-0":c>0,"pe-0":c<a.length-1}),children:(0,C.jsxs)("div",{onClick:function(){return g(b)},className:"py-2",style:{cursor:e===b?"":"pointer",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",borderColor:"#efefef",borderRightStyle:a.length-1===c?"solid":"hidden",borderBottomWidth:e===b?"0px":"2px"},children:[f("Disc")," ",b+1]})},b)})}),(0,C.jsx)(ah.Z,{children:(0,C.jsx)(ai.Z,{children:(0,C.jsx)("div",{style:{padding:"5px 5px 5px 5px",borderStyle:"solid",borderWidth:"2px 2px 2px 2px",borderColor:"#efefef",borderTopWidth:a.length>1?"0px":"2px"},children:(0,C.jsx)("table",{cellSpacing:"0",cellPadding:"1",border:"0",children:(0,C.jsx)("tbody",{children:a.length>0&&a[e].body.split("\n").map(function(b,a){return(0,C.jsxs)("tr",{children:[(0,C.jsx)("td",{className:"smallfont",style:{padding:"8px"},children:(0,C.jsx)("span",{className:"label",children:a+1})}),(0,C.jsx)("td",{className:"smallfont",width:"100%",style:{padding:"8px"},children:b})]},a)})})})})})})]})})}},119:function(a){a.exports={title:"Album_title__ZaGZL",table:"Album_table__NGdRi",content:"Album_content__ActvU",stores:"Album_stores__OMIJi",download:"Album_download__pH_5m",direct:"Album_direct__br6xh"}},4876:function(a){a.exports={albumBoxContainer:"AlbumBoxes_albumBoxContainer___5OUW",anim:"AlbumBoxes_anim__Xn34t",albumBox:"AlbumBoxes_albumBox__qjbi0",img:"AlbumBoxes_img__gFWAG",coming:"AlbumBoxes_coming__jiMAE"}},9409:function(a){a.exports={albumSpan:"Profile_albumSpan__O9GbQ"}},3463:function(a){a.exports={star:"Stars_star__yQXT9",gold:"Stars_gold__v_Nx7"}}},function(a){a.O(0,[774,888,179],function(){var b;return a(a.s=1220)}),_N_E=a.O()}])